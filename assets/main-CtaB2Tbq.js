import{r as B,j as b,R as tt,c as Ke,g as Pt,a as Et,L as Mt}from"./Louis-BaH2fb3O.js";var se={},Je;function Rt(){if(Je)return se;Je=1,Object.defineProperty(se,"__esModule",{value:!0}),se.parse=l,se.serialize=f;const p=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,S=/^[\u0021-\u003A\u003C-\u007E]*$/,v=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,M=/^[\u0020-\u003A\u003D-\u007E]*$/,u=Object.prototype.toString,e=(()=>{const s=function(){};return s.prototype=Object.create(null),s})();function l(s,t){const r=new e,a=s.length;if(a<2)return r;const c=t?.decode||i;let m=0;do{const y=s.indexOf("=",m);if(y===-1)break;const P=s.indexOf(";",m),L=P===-1?a:P;if(y>L){m=s.lastIndexOf(";",y-1)+1;continue}const h=o(s,m,y),x=n(s,y,h),w=s.slice(h,x);if(r[w]===void 0){let g=o(s,y+1,L),E=n(s,L,g);const C=c(s.slice(g,E));r[w]=C}m=L+1}while(m<a);return r}function o(s,t,r){do{const a=s.charCodeAt(t);if(a!==32&&a!==9)return t}while(++t<r);return r}function n(s,t,r){for(;t>r;){const a=s.charCodeAt(--t);if(a!==32&&a!==9)return t+1}return r}function f(s,t,r){const a=r?.encode||encodeURIComponent;if(!p.test(s))throw new TypeError(`argument name is invalid: ${s}`);const c=a(t);if(!S.test(c))throw new TypeError(`argument val is invalid: ${t}`);let m=s+"="+c;if(!r)return m;if(r.maxAge!==void 0){if(!Number.isInteger(r.maxAge))throw new TypeError(`option maxAge is invalid: ${r.maxAge}`);m+="; Max-Age="+r.maxAge}if(r.domain){if(!v.test(r.domain))throw new TypeError(`option domain is invalid: ${r.domain}`);m+="; Domain="+r.domain}if(r.path){if(!M.test(r.path))throw new TypeError(`option path is invalid: ${r.path}`);m+="; Path="+r.path}if(r.expires){if(!d(r.expires)||!Number.isFinite(r.expires.valueOf()))throw new TypeError(`option expires is invalid: ${r.expires}`);m+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(m+="; HttpOnly"),r.secure&&(m+="; Secure"),r.partitioned&&(m+="; Partitioned"),r.priority)switch(typeof r.priority=="string"?r.priority.toLowerCase():void 0){case"low":m+="; Priority=Low";break;case"medium":m+="; Priority=Medium";break;case"high":m+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${r.priority}`)}if(r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:case"strict":m+="; SameSite=Strict";break;case"lax":m+="; SameSite=Lax";break;case"none":m+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${r.sameSite}`)}return m}function i(s){if(s.indexOf("%")===-1)return s;try{return decodeURIComponent(s)}catch{return s}}function d(s){return u.call(s)==="[object Date]"}return se}Rt();var Qe="popstate";function Lt(p={}){function S(M,u){let{pathname:e,search:l,hash:o}=M.location;return De("",{pathname:e,search:l,hash:o},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function v(M,u){return typeof u=="string"?u:ue(u)}return At(S,v,null,p)}function j(p,S){if(p===!1||p===null||typeof p>"u")throw new Error(S)}function q(p,S){if(!p){typeof console<"u"&&console.warn(S);try{throw new Error(S)}catch{}}}function It(){return Math.random().toString(36).substring(2,10)}function Xe(p,S){return{usr:p.state,key:p.key,idx:S}}function De(p,S,v=null,M){return{pathname:typeof p=="string"?p:p.pathname,search:"",hash:"",...typeof S=="string"?ae(S):S,state:v,key:S&&S.key||M||It()}}function ue({pathname:p="/",search:S="",hash:v=""}){return S&&S!=="?"&&(p+=S.charAt(0)==="?"?S:"?"+S),v&&v!=="#"&&(p+=v.charAt(0)==="#"?v:"#"+v),p}function ae(p){let S={};if(p){let v=p.indexOf("#");v>=0&&(S.hash=p.substring(v),p=p.substring(0,v));let M=p.indexOf("?");M>=0&&(S.search=p.substring(M),p=p.substring(0,M)),p&&(S.pathname=p)}return S}function At(p,S,v,M={}){let{window:u=document.defaultView,v5Compat:e=!1}=M,l=u.history,o="POP",n=null,f=i();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function i(){return(l.state||{idx:null}).idx}function d(){o="POP";let c=i(),m=c==null?null:c-f;f=c,n&&n({action:o,location:a.location,delta:m})}function s(c,m){o="PUSH";let y=De(a.location,c,m);f=i()+1;let P=Xe(y,f),L=a.createHref(y);try{l.pushState(P,"",L)}catch(h){if(h instanceof DOMException&&h.name==="DataCloneError")throw h;u.location.assign(L)}e&&n&&n({action:o,location:a.location,delta:1})}function t(c,m){o="REPLACE";let y=De(a.location,c,m);f=i();let P=Xe(y,f),L=a.createHref(y);l.replaceState(P,"",L),e&&n&&n({action:o,location:a.location,delta:0})}function r(c){return Bt(c)}let a={get action(){return o},get location(){return p(u,l)},listen(c){if(n)throw new Error("A history only accepts one active listener");return u.addEventListener(Qe,d),n=c,()=>{u.removeEventListener(Qe,d),n=null}},createHref(c){return S(u,c)},createURL:r,encodeLocation(c){let m=r(c);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:s,replace:t,go(c){return l.go(c)}};return a}function Bt(p,S=!1){let v="http://localhost";typeof window<"u"&&(v=window.location.origin!=="null"?window.location.origin:window.location.href),j(v,"No window.location.(origin|href) available to create URL");let M=typeof p=="string"?p:ue(p);return M=M.replace(/ $/,"%20"),!S&&M.startsWith("//")&&(M=v+M),new URL(M,v)}function nt(p,S,v="/"){return Tt(p,S,v,!1)}function Tt(p,S,v,M){let u=typeof S=="string"?ae(S):S,e=ne(u.pathname||"/",v);if(e==null)return null;let l=rt(p);kt(l);let o=null;for(let n=0;o==null&&n<l.length;++n){let f=zt(e);o=Ut(l[n],f,M)}return o}function rt(p,S=[],v=[],M=""){let u=(e,l,o)=>{let n={relativePath:o===void 0?e.path||"":o,caseSensitive:e.caseSensitive===!0,childrenIndex:l,route:e};n.relativePath.startsWith("/")&&(j(n.relativePath.startsWith(M),`Absolute route path "${n.relativePath}" nested under path "${M}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),n.relativePath=n.relativePath.slice(M.length));let f=te([M,n.relativePath]),i=v.concat(n);e.children&&e.children.length>0&&(j(e.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),rt(e.children,S,i,f)),!(e.path==null&&!e.index)&&S.push({path:f,score:Vt(f,e.index),routesMeta:i})};return p.forEach((e,l)=>{if(e.path===""||!e.path?.includes("?"))u(e,l);else for(let o of it(e.path))u(e,l,o)}),S}function it(p){let S=p.split("/");if(S.length===0)return[];let[v,...M]=S,u=v.endsWith("?"),e=v.replace(/\?$/,"");if(M.length===0)return u?[e,""]:[e];let l=it(M.join("/")),o=[];return o.push(...l.map(n=>n===""?e:[e,n].join("/"))),u&&o.push(...l),o.map(n=>p.startsWith("/")&&n===""?"/":n)}function kt(p){p.sort((S,v)=>S.score!==v.score?v.score-S.score:Wt(S.routesMeta.map(M=>M.childrenIndex),v.routesMeta.map(M=>M.childrenIndex)))}var Dt=/^:[\w-]+$/,Ft=3,bt=2,Ot=1,$t=10,Ht=-2,Ze=p=>p==="*";function Vt(p,S){let v=p.split("/"),M=v.length;return v.some(Ze)&&(M+=Ht),S&&(M+=bt),v.filter(u=>!Ze(u)).reduce((u,e)=>u+(Dt.test(e)?Ft:e===""?Ot:$t),M)}function Wt(p,S){return p.length===S.length&&p.slice(0,-1).every((M,u)=>M===S[u])?p[p.length-1]-S[S.length-1]:0}function Ut(p,S,v=!1){let{routesMeta:M}=p,u={},e="/",l=[];for(let o=0;o<M.length;++o){let n=M[o],f=o===M.length-1,i=e==="/"?S:S.slice(e.length)||"/",d=Pe({path:n.relativePath,caseSensitive:n.caseSensitive,end:f},i),s=n.route;if(!d&&f&&v&&!M[M.length-1].route.index&&(d=Pe({path:n.relativePath,caseSensitive:n.caseSensitive,end:!1},i)),!d)return null;Object.assign(u,d.params),l.push({params:u,pathname:te([e,d.pathname]),pathnameBase:Kt(te([e,d.pathnameBase])),route:s}),d.pathnameBase!=="/"&&(e=te([e,d.pathnameBase]))}return l}function Pe(p,S){typeof p=="string"&&(p={path:p,caseSensitive:!1,end:!0});let[v,M]=Nt(p.path,p.caseSensitive,p.end),u=S.match(v);if(!u)return null;let e=u[0],l=e.replace(/(.)\/+$/,"$1"),o=u.slice(1);return{params:M.reduce((f,{paramName:i,isOptional:d},s)=>{if(i==="*"){let r=o[s]||"";l=e.slice(0,e.length-r.length).replace(/(.)\/+$/,"$1")}const t=o[s];return d&&!t?f[i]=void 0:f[i]=(t||"").replace(/%2F/g,"/"),f},{}),pathname:e,pathnameBase:l,pattern:p}}function Nt(p,S=!1,v=!0){q(p==="*"||!p.endsWith("*")||p.endsWith("/*"),`Route path "${p}" will be treated as if it were "${p.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${p.replace(/\*$/,"/*")}".`);let M=[],u="^"+p.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,n)=>(M.push({paramName:o,isOptional:n!=null}),n?"/?([^\\/]+)?":"/([^\\/]+)"));return p.endsWith("*")?(M.push({paramName:"*"}),u+=p==="*"||p==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):v?u+="\\/*$":p!==""&&p!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,S?void 0:"i"),M]}function zt(p){try{return p.split("/").map(S=>decodeURIComponent(S).replace(/\//g,"%2F")).join("/")}catch(S){return q(!1,`The URL path "${p}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${S}).`),p}}function ne(p,S){if(S==="/")return p;if(!p.toLowerCase().startsWith(S.toLowerCase()))return null;let v=S.endsWith("/")?S.length-1:S.length,M=p.charAt(v);return M&&M!=="/"?null:p.slice(v)||"/"}function jt(p,S="/"){let{pathname:v,search:M="",hash:u=""}=typeof p=="string"?ae(p):p;return{pathname:v?v.startsWith("/")?v:Gt(v,S):S,search:Jt(M),hash:Qt(u)}}function Gt(p,S){let v=S.replace(/\/+$/,"").split("/");return p.split("/").forEach(u=>{u===".."?v.length>1&&v.pop():u!=="."&&v.push(u)}),v.length>1?v.join("/"):"/"}function Be(p,S,v,M){return`Cannot include a '${p}' character in a manually specified \`to.${S}\` field [${JSON.stringify(M)}].  Please separate it out to the \`to.${v}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Yt(p){return p.filter((S,v)=>v===0||S.route.path&&S.route.path.length>0)}function at(p){let S=Yt(p);return S.map((v,M)=>M===S.length-1?v.pathname:v.pathnameBase)}function ot(p,S,v,M=!1){let u;typeof p=="string"?u=ae(p):(u={...p},j(!u.pathname||!u.pathname.includes("?"),Be("?","pathname","search",u)),j(!u.pathname||!u.pathname.includes("#"),Be("#","pathname","hash",u)),j(!u.search||!u.search.includes("#"),Be("#","search","hash",u)));let e=p===""||u.pathname==="",l=e?"/":u.pathname,o;if(l==null)o=v;else{let d=S.length-1;if(!M&&l.startsWith("..")){let s=l.split("/");for(;s[0]==="..";)s.shift(),d-=1;u.pathname=s.join("/")}o=d>=0?S[d]:"/"}let n=jt(u,o),f=l&&l!=="/"&&l.endsWith("/"),i=(e||l===".")&&v.endsWith("/");return!n.pathname.endsWith("/")&&(f||i)&&(n.pathname+="/"),n}var te=p=>p.join("/").replace(/\/\/+/g,"/"),Kt=p=>p.replace(/\/+$/,"").replace(/^\/*/,"/"),Jt=p=>!p||p==="?"?"":p.startsWith("?")?p:"?"+p,Qt=p=>!p||p==="#"?"":p.startsWith("#")?p:"#"+p;function Xt(p){return p!=null&&typeof p.status=="number"&&typeof p.statusText=="string"&&typeof p.internal=="boolean"&&"data"in p}var st=["POST","PUT","PATCH","DELETE"];new Set(st);var Zt=["GET",...st];new Set(Zt);var oe=B.createContext(null);oe.displayName="DataRouter";var Me=B.createContext(null);Me.displayName="DataRouterState";var lt=B.createContext({isTransitioning:!1});lt.displayName="ViewTransition";var qt=B.createContext(new Map);qt.displayName="Fetchers";var _t=B.createContext(null);_t.displayName="Await";var _=B.createContext(null);_.displayName="Navigation";var ce=B.createContext(null);ce.displayName="Location";var re=B.createContext({outlet:null,matches:[],isDataRoute:!1});re.displayName="Route";var be=B.createContext(null);be.displayName="RouteError";function en(p,{relative:S}={}){j(de(),"useHref() may be used only in the context of a <Router> component.");let{basename:v,navigator:M}=B.useContext(_),{hash:u,pathname:e,search:l}=he(p,{relative:S}),o=e;return v!=="/"&&(o=e==="/"?v:te([v,e])),M.createHref({pathname:o,search:l,hash:u})}function de(){return B.useContext(ce)!=null}function ie(){return j(de(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(ce).location}var ut="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ft(p){B.useContext(_).static||B.useLayoutEffect(p)}function tn(){let{isDataRoute:p}=B.useContext(re);return p?mn():nn()}function nn(){j(de(),"useNavigate() may be used only in the context of a <Router> component.");let p=B.useContext(oe),{basename:S,navigator:v}=B.useContext(_),{matches:M}=B.useContext(re),{pathname:u}=ie(),e=JSON.stringify(at(M)),l=B.useRef(!1);return ft(()=>{l.current=!0}),B.useCallback((n,f={})=>{if(q(l.current,ut),!l.current)return;if(typeof n=="number"){v.go(n);return}let i=ot(n,JSON.parse(e),u,f.relative==="path");p==null&&S!=="/"&&(i.pathname=i.pathname==="/"?S:te([S,i.pathname])),(f.replace?v.replace:v.push)(i,f.state,f)},[S,v,e,u,p])}B.createContext(null);function he(p,{relative:S}={}){let{matches:v}=B.useContext(re),{pathname:M}=ie(),u=JSON.stringify(at(v));return B.useMemo(()=>ot(p,JSON.parse(u),M,S==="path"),[p,u,M,S])}function rn(p,S){return ct(p,S)}function ct(p,S,v,M){j(de(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=B.useContext(_),{matches:e}=B.useContext(re),l=e[e.length-1],o=l?l.params:{},n=l?l.pathname:"/",f=l?l.pathnameBase:"/",i=l&&l.route;{let m=i&&i.path||"";dt(n,!i||m.endsWith("*")||m.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${n}" (under <Route path="${m}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${m}"> to <Route path="${m==="/"?"*":`${m}/*`}">.`)}let d=ie(),s;if(S){let m=typeof S=="string"?ae(S):S;j(f==="/"||m.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${m.pathname}" was given in the \`location\` prop.`),s=m}else s=d;let t=s.pathname||"/",r=t;if(f!=="/"){let m=f.replace(/^\//,"").split("/");r="/"+t.replace(/^\//,"").split("/").slice(m.length).join("/")}let a=nt(p,{pathname:r});q(i||a!=null,`No routes matched location "${s.pathname}${s.search}${s.hash}" `),q(a==null||a[a.length-1].route.element!==void 0||a[a.length-1].route.Component!==void 0||a[a.length-1].route.lazy!==void 0,`Matched leaf route at location "${s.pathname}${s.search}${s.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let c=un(a&&a.map(m=>Object.assign({},m,{params:Object.assign({},o,m.params),pathname:te([f,u.encodeLocation?u.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?f:te([f,u.encodeLocation?u.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),e,v,M);return S&&c?B.createElement(ce.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...s},navigationType:"POP"}},c):c}function an(){let p=pn(),S=Xt(p)?`${p.status} ${p.statusText}`:p instanceof Error?p.message:JSON.stringify(p),v=p instanceof Error?p.stack:null,M="rgba(200,200,200, 0.5)",u={padding:"0.5rem",backgroundColor:M},e={padding:"2px 4px",backgroundColor:M},l=null;return console.error("Error handled by React Router default ErrorBoundary:",p),l=B.createElement(B.Fragment,null,B.createElement("p",null,"💿 Hey developer 👋"),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:e},"ErrorBoundary")," or"," ",B.createElement("code",{style:e},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},S),v?B.createElement("pre",{style:u},v):null,l)}var on=B.createElement(an,null),sn=class extends B.Component{constructor(p){super(p),this.state={location:p.location,revalidation:p.revalidation,error:p.error}}static getDerivedStateFromError(p){return{error:p}}static getDerivedStateFromProps(p,S){return S.location!==p.location||S.revalidation!=="idle"&&p.revalidation==="idle"?{error:p.error,location:p.location,revalidation:p.revalidation}:{error:p.error!==void 0?p.error:S.error,location:S.location,revalidation:p.revalidation||S.revalidation}}componentDidCatch(p,S){console.error("React Router caught the following error during render",p,S)}render(){return this.state.error!==void 0?B.createElement(re.Provider,{value:this.props.routeContext},B.createElement(be.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ln({routeContext:p,match:S,children:v}){let M=B.useContext(oe);return M&&M.static&&M.staticContext&&(S.route.errorElement||S.route.ErrorBoundary)&&(M.staticContext._deepestRenderedBoundaryId=S.route.id),B.createElement(re.Provider,{value:p},v)}function un(p,S=[],v=null,M=null){if(p==null){if(!v)return null;if(v.errors)p=v.matches;else if(S.length===0&&!v.initialized&&v.matches.length>0)p=v.matches;else return null}let u=p,e=v?.errors;if(e!=null){let n=u.findIndex(f=>f.route.id&&e?.[f.route.id]!==void 0);j(n>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(e).join(",")}`),u=u.slice(0,Math.min(u.length,n+1))}let l=!1,o=-1;if(v)for(let n=0;n<u.length;n++){let f=u[n];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(o=n),f.route.id){let{loaderData:i,errors:d}=v,s=f.route.loader&&!i.hasOwnProperty(f.route.id)&&(!d||d[f.route.id]===void 0);if(f.route.lazy||s){l=!0,o>=0?u=u.slice(0,o+1):u=[u[0]];break}}}return u.reduceRight((n,f,i)=>{let d,s=!1,t=null,r=null;v&&(d=e&&f.route.id?e[f.route.id]:void 0,t=f.route.errorElement||on,l&&(o<0&&i===0?(dt("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),s=!0,r=null):o===i&&(s=!0,r=f.route.hydrateFallbackElement||null)));let a=S.concat(u.slice(0,i+1)),c=()=>{let m;return d?m=t:s?m=r:f.route.Component?m=B.createElement(f.route.Component,null):f.route.element?m=f.route.element:m=n,B.createElement(ln,{match:f,routeContext:{outlet:n,matches:a,isDataRoute:v!=null},children:m})};return v&&(f.route.ErrorBoundary||f.route.errorElement||i===0)?B.createElement(sn,{location:v.location,revalidation:v.revalidation,component:t,error:d,children:c(),routeContext:{outlet:null,matches:a,isDataRoute:!0}}):c()},null)}function Oe(p){return`${p} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fn(p){let S=B.useContext(oe);return j(S,Oe(p)),S}function cn(p){let S=B.useContext(Me);return j(S,Oe(p)),S}function dn(p){let S=B.useContext(re);return j(S,Oe(p)),S}function $e(p){let S=dn(p),v=S.matches[S.matches.length-1];return j(v.route.id,`${p} can only be used on routes that contain a unique "id"`),v.route.id}function hn(){return $e("useRouteId")}function pn(){let p=B.useContext(be),S=cn("useRouteError"),v=$e("useRouteError");return p!==void 0?p:S.errors?.[v]}function mn(){let{router:p}=fn("useNavigate"),S=$e("useNavigate"),v=B.useRef(!1);return ft(()=>{v.current=!0}),B.useCallback(async(u,e={})=>{q(v.current,ut),v.current&&(typeof u=="number"?p.navigate(u):await p.navigate(u,{fromRouteId:S,...e}))},[p,S])}var qe={};function dt(p,S,v){!S&&!qe[p]&&(qe[p]=!0,q(!1,v))}B.memo(vn);function vn({routes:p,future:S,state:v}){return ct(p,void 0,v,S)}function ye(p){j(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function gn({basename:p="/",children:S=null,location:v,navigationType:M="POP",navigator:u,static:e=!1}){j(!de(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=p.replace(/^\/*/,"/"),o=B.useMemo(()=>({basename:l,navigator:u,static:e,future:{}}),[l,u,e]);typeof v=="string"&&(v=ae(v));let{pathname:n="/",search:f="",hash:i="",state:d=null,key:s="default"}=v,t=B.useMemo(()=>{let r=ne(n,l);return r==null?null:{location:{pathname:r,search:f,hash:i,state:d,key:s},navigationType:M}},[l,n,f,i,d,s,M]);return q(t!=null,`<Router basename="${l}"> is not able to match the URL "${n}${f}${i}" because it does not start with the basename, so the <Router> won't render anything.`),t==null?null:B.createElement(_.Provider,{value:o},B.createElement(ce.Provider,{children:S,value:t}))}function xn({children:p,location:S}){return rn(Fe(p),S)}function Fe(p,S=[]){let v=[];return B.Children.forEach(p,(M,u)=>{if(!B.isValidElement(M))return;let e=[...S,u];if(M.type===B.Fragment){v.push.apply(v,Fe(M.props.children,e));return}j(M.type===ye,`[${typeof M.type=="string"?M.type:M.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),j(!M.props.index||!M.props.children,"An index route cannot have child routes.");let l={id:M.props.id||e.join("-"),caseSensitive:M.props.caseSensitive,element:M.props.element,Component:M.props.Component,index:M.props.index,path:M.props.path,loader:M.props.loader,action:M.props.action,hydrateFallbackElement:M.props.hydrateFallbackElement,HydrateFallback:M.props.HydrateFallback,errorElement:M.props.errorElement,ErrorBoundary:M.props.ErrorBoundary,hasErrorBoundary:M.props.hasErrorBoundary===!0||M.props.ErrorBoundary!=null||M.props.errorElement!=null,shouldRevalidate:M.props.shouldRevalidate,handle:M.props.handle,lazy:M.props.lazy};M.props.children&&(l.children=Fe(M.props.children,e)),v.push(l)}),v}var we="get",Se="application/x-www-form-urlencoded";function Re(p){return p!=null&&typeof p.tagName=="string"}function yn(p){return Re(p)&&p.tagName.toLowerCase()==="button"}function wn(p){return Re(p)&&p.tagName.toLowerCase()==="form"}function Sn(p){return Re(p)&&p.tagName.toLowerCase()==="input"}function Cn(p){return!!(p.metaKey||p.altKey||p.ctrlKey||p.shiftKey)}function Pn(p,S){return p.button===0&&(!S||S==="_self")&&!Cn(p)}var ge=null;function En(){if(ge===null)try{new FormData(document.createElement("form"),0),ge=!1}catch{ge=!0}return ge}var Mn=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Te(p){return p!=null&&!Mn.has(p)?(q(!1,`"${p}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Se}"`),null):p}function Rn(p,S){let v,M,u,e,l;if(wn(p)){let o=p.getAttribute("action");M=o?ne(o,S):null,v=p.getAttribute("method")||we,u=Te(p.getAttribute("enctype"))||Se,e=new FormData(p)}else if(yn(p)||Sn(p)&&(p.type==="submit"||p.type==="image")){let o=p.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let n=p.getAttribute("formaction")||o.getAttribute("action");if(M=n?ne(n,S):null,v=p.getAttribute("formmethod")||o.getAttribute("method")||we,u=Te(p.getAttribute("formenctype"))||Te(o.getAttribute("enctype"))||Se,e=new FormData(o,p),!En()){let{name:f,type:i,value:d}=p;if(i==="image"){let s=f?`${f}.`:"";e.append(`${s}x`,"0"),e.append(`${s}y`,"0")}else f&&e.append(f,d)}}else{if(Re(p))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');v=we,M=null,u=Se,l=p}return e&&u==="text/plain"&&(l=e,e=void 0),{action:M,method:v.toLowerCase(),encType:u,formData:e,body:l}}function He(p,S){if(p===!1||p===null||typeof p>"u")throw new Error(S)}async function Ln(p,S){if(p.id in S)return S[p.id];try{let v=await import(p.module);return S[p.id]=v,v}catch(v){return console.error(`Error loading route module \`${p.module}\`, reloading page...`),console.error(v),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function In(p){return p==null?!1:p.href==null?p.rel==="preload"&&typeof p.imageSrcSet=="string"&&typeof p.imageSizes=="string":typeof p.rel=="string"&&typeof p.href=="string"}async function An(p,S,v){let M=await Promise.all(p.map(async u=>{let e=S.routes[u.route.id];if(e){let l=await Ln(e,v);return l.links?l.links():[]}return[]}));return Dn(M.flat(1).filter(In).filter(u=>u.rel==="stylesheet"||u.rel==="preload").map(u=>u.rel==="stylesheet"?{...u,rel:"prefetch",as:"style"}:{...u,rel:"prefetch"}))}function _e(p,S,v,M,u,e){let l=(n,f)=>v[f]?n.route.id!==v[f].route.id:!0,o=(n,f)=>v[f].pathname!==n.pathname||v[f].route.path?.endsWith("*")&&v[f].params["*"]!==n.params["*"];return e==="assets"?S.filter((n,f)=>l(n,f)||o(n,f)):e==="data"?S.filter((n,f)=>{let i=M.routes[n.route.id];if(!i||!i.hasLoader)return!1;if(l(n,f)||o(n,f))return!0;if(n.route.shouldRevalidate){let d=n.route.shouldRevalidate({currentUrl:new URL(u.pathname+u.search+u.hash,window.origin),currentParams:v[0]?.params||{},nextUrl:new URL(p,window.origin),nextParams:n.params,defaultShouldRevalidate:!0});if(typeof d=="boolean")return d}return!0}):[]}function Bn(p,S,{includeHydrateFallback:v}={}){return Tn(p.map(M=>{let u=S.routes[M.route.id];if(!u)return[];let e=[u.module];return u.clientActionModule&&(e=e.concat(u.clientActionModule)),u.clientLoaderModule&&(e=e.concat(u.clientLoaderModule)),v&&u.hydrateFallbackModule&&(e=e.concat(u.hydrateFallbackModule)),u.imports&&(e=e.concat(u.imports)),e}).flat(1))}function Tn(p){return[...new Set(p)]}function kn(p){let S={},v=Object.keys(p).sort();for(let M of v)S[M]=p[M];return S}function Dn(p,S){let v=new Set;return new Set(S),p.reduce((M,u)=>{let e=JSON.stringify(kn(u));return v.has(e)||(v.add(e),M.push({key:e,link:u})),M},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Fn=new Set([100,101,204,205]);function bn(p,S){let v=typeof p=="string"?new URL(p,typeof window>"u"?"server://singlefetch/":window.location.origin):p;return v.pathname==="/"?v.pathname="_root.data":S&&ne(v.pathname,S)==="/"?v.pathname=`${S.replace(/\/$/,"")}/_root.data`:v.pathname=`${v.pathname.replace(/\/$/,"")}.data`,v}function ht(){let p=B.useContext(oe);return He(p,"You must render this element inside a <DataRouterContext.Provider> element"),p}function On(){let p=B.useContext(Me);return He(p,"You must render this element inside a <DataRouterStateContext.Provider> element"),p}var Ve=B.createContext(void 0);Ve.displayName="FrameworkContext";function pt(){let p=B.useContext(Ve);return He(p,"You must render this element inside a <HydratedRouter> element"),p}function $n(p,S){let v=B.useContext(Ve),[M,u]=B.useState(!1),[e,l]=B.useState(!1),{onFocus:o,onBlur:n,onMouseEnter:f,onMouseLeave:i,onTouchStart:d}=S,s=B.useRef(null);B.useEffect(()=>{if(p==="render"&&l(!0),p==="viewport"){let a=m=>{m.forEach(y=>{l(y.isIntersecting)})},c=new IntersectionObserver(a,{threshold:.5});return s.current&&c.observe(s.current),()=>{c.disconnect()}}},[p]),B.useEffect(()=>{if(M){let a=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(a)}}},[M]);let t=()=>{u(!0)},r=()=>{u(!1),l(!1)};return v?p!=="intent"?[e,s,{}]:[e,s,{onFocus:le(o,t),onBlur:le(n,r),onMouseEnter:le(f,t),onMouseLeave:le(i,r),onTouchStart:le(d,t)}]:[!1,s,{}]}function le(p,S){return v=>{p&&p(v),v.defaultPrevented||S(v)}}function Hn({page:p,...S}){let{router:v}=ht(),M=B.useMemo(()=>nt(v.routes,p,v.basename),[v.routes,p,v.basename]);return M?B.createElement(Wn,{page:p,matches:M,...S}):null}function Vn(p){let{manifest:S,routeModules:v}=pt(),[M,u]=B.useState([]);return B.useEffect(()=>{let e=!1;return An(p,S,v).then(l=>{e||u(l)}),()=>{e=!0}},[p,S,v]),M}function Wn({page:p,matches:S,...v}){let M=ie(),{manifest:u,routeModules:e}=pt(),{basename:l}=ht(),{loaderData:o,matches:n}=On(),f=B.useMemo(()=>_e(p,S,n,u,M,"data"),[p,S,n,u,M]),i=B.useMemo(()=>_e(p,S,n,u,M,"assets"),[p,S,n,u,M]),d=B.useMemo(()=>{if(p===M.pathname+M.search+M.hash)return[];let r=new Set,a=!1;if(S.forEach(m=>{let y=u.routes[m.route.id];!y||!y.hasLoader||(!f.some(P=>P.route.id===m.route.id)&&m.route.id in o&&e[m.route.id]?.shouldRevalidate||y.hasClientLoader?a=!0:r.add(m.route.id))}),r.size===0)return[];let c=bn(p,l);return a&&r.size>0&&c.searchParams.set("_routes",S.filter(m=>r.has(m.route.id)).map(m=>m.route.id).join(",")),[c.pathname+c.search]},[l,o,M,u,f,S,p,e]),s=B.useMemo(()=>Bn(i,u),[i,u]),t=Vn(i);return B.createElement(B.Fragment,null,d.map(r=>B.createElement("link",{key:r,rel:"prefetch",as:"fetch",href:r,...v})),s.map(r=>B.createElement("link",{key:r,rel:"modulepreload",href:r,...v})),t.map(({key:r,link:a})=>B.createElement("link",{key:r,...a})))}function Un(...p){return S=>{p.forEach(v=>{typeof v=="function"?v(S):v!=null&&(v.current=S)})}}var mt=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{mt&&(window.__reactRouterVersion="7.6.3")}catch{}function Nn({basename:p,children:S,window:v}){let M=B.useRef();M.current==null&&(M.current=Lt({window:v,v5Compat:!0}));let u=M.current,[e,l]=B.useState({action:u.action,location:u.location}),o=B.useCallback(n=>{B.startTransition(()=>l(n))},[l]);return B.useLayoutEffect(()=>u.listen(o),[u,o]),B.createElement(gn,{basename:p,children:S,location:e.location,navigationType:e.action,navigator:u})}var vt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gt=B.forwardRef(function({onClick:S,discover:v="render",prefetch:M="none",relative:u,reloadDocument:e,replace:l,state:o,target:n,to:f,preventScrollReset:i,viewTransition:d,...s},t){let{basename:r}=B.useContext(_),a=typeof f=="string"&&vt.test(f),c,m=!1;if(typeof f=="string"&&a&&(c=f,mt))try{let E=new URL(window.location.href),C=f.startsWith("//")?new URL(E.protocol+f):new URL(f),R=ne(C.pathname,r);C.origin===E.origin&&R!=null?f=R+C.search+C.hash:m=!0}catch{q(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let y=en(f,{relative:u}),[P,L,h]=$n(M,s),x=Yn(f,{replace:l,state:o,target:n,preventScrollReset:i,relative:u,viewTransition:d});function w(E){S&&S(E),E.defaultPrevented||x(E)}let g=B.createElement("a",{...s,...h,href:c||y,onClick:m||e?S:w,ref:Un(t,L),target:n,"data-discover":!a&&v==="render"?"true":void 0});return P&&!a?B.createElement(B.Fragment,null,g,B.createElement(Hn,{page:y})):g});gt.displayName="Link";var zn=B.forwardRef(function({"aria-current":S="page",caseSensitive:v=!1,className:M="",end:u=!1,style:e,to:l,viewTransition:o,children:n,...f},i){let d=he(l,{relative:f.relative}),s=ie(),t=B.useContext(Me),{navigator:r,basename:a}=B.useContext(_),c=t!=null&&Zn(d)&&o===!0,m=r.encodeLocation?r.encodeLocation(d).pathname:d.pathname,y=s.pathname,P=t&&t.navigation&&t.navigation.location?t.navigation.location.pathname:null;v||(y=y.toLowerCase(),P=P?P.toLowerCase():null,m=m.toLowerCase()),P&&a&&(P=ne(P,a)||P);const L=m!=="/"&&m.endsWith("/")?m.length-1:m.length;let h=y===m||!u&&y.startsWith(m)&&y.charAt(L)==="/",x=P!=null&&(P===m||!u&&P.startsWith(m)&&P.charAt(m.length)==="/"),w={isActive:h,isPending:x,isTransitioning:c},g=h?S:void 0,E;typeof M=="function"?E=M(w):E=[M,h?"active":null,x?"pending":null,c?"transitioning":null].filter(Boolean).join(" ");let C=typeof e=="function"?e(w):e;return B.createElement(gt,{...f,"aria-current":g,className:E,ref:i,style:C,to:l,viewTransition:o},typeof n=="function"?n(w):n)});zn.displayName="NavLink";var jn=B.forwardRef(({discover:p="render",fetcherKey:S,navigate:v,reloadDocument:M,replace:u,state:e,method:l=we,action:o,onSubmit:n,relative:f,preventScrollReset:i,viewTransition:d,...s},t)=>{let r=Qn(),a=Xn(o,{relative:f}),c=l.toLowerCase()==="get"?"get":"post",m=typeof o=="string"&&vt.test(o),y=P=>{if(n&&n(P),P.defaultPrevented)return;P.preventDefault();let L=P.nativeEvent.submitter,h=L?.getAttribute("formmethod")||l;r(L||P.currentTarget,{fetcherKey:S,method:h,navigate:v,replace:u,state:e,relative:f,preventScrollReset:i,viewTransition:d})};return B.createElement("form",{ref:t,method:c,action:a,onSubmit:M?n:y,...s,"data-discover":!m&&p==="render"?"true":void 0})});jn.displayName="Form";function Gn(p){return`${p} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xt(p){let S=B.useContext(oe);return j(S,Gn(p)),S}function Yn(p,{target:S,replace:v,state:M,preventScrollReset:u,relative:e,viewTransition:l}={}){let o=tn(),n=ie(),f=he(p,{relative:e});return B.useCallback(i=>{if(Pn(i,S)){i.preventDefault();let d=v!==void 0?v:ue(n)===ue(f);o(p,{replace:d,state:M,preventScrollReset:u,relative:e,viewTransition:l})}},[n,o,f,v,M,S,p,u,e,l])}var Kn=0,Jn=()=>`__${String(++Kn)}__`;function Qn(){let{router:p}=xt("useSubmit"),{basename:S}=B.useContext(_),v=hn();return B.useCallback(async(M,u={})=>{let{action:e,method:l,encType:o,formData:n,body:f}=Rn(M,S);if(u.navigate===!1){let i=u.fetcherKey||Jn();await p.fetch(i,v,u.action||e,{preventScrollReset:u.preventScrollReset,formData:n,body:f,formMethod:u.method||l,formEncType:u.encType||o,flushSync:u.flushSync})}else await p.navigate(u.action||e,{preventScrollReset:u.preventScrollReset,formData:n,body:f,formMethod:u.method||l,formEncType:u.encType||o,replace:u.replace,state:u.state,fromRouteId:v,flushSync:u.flushSync,viewTransition:u.viewTransition})},[p,S,v])}function Xn(p,{relative:S}={}){let{basename:v}=B.useContext(_),M=B.useContext(re);j(M,"useFormAction must be used inside a RouteContext");let[u]=M.matches.slice(-1),e={...he(p||".",{relative:S})},l=ie();if(p==null){e.search=l.search;let o=new URLSearchParams(e.search),n=o.getAll("index");if(n.some(i=>i==="")){o.delete("index"),n.filter(d=>d).forEach(d=>o.append("index",d));let i=o.toString();e.search=i?`?${i}`:""}}return(!p||p===".")&&u.route.index&&(e.search=e.search?e.search.replace(/^\?/,"?index&"):"?index"),v!=="/"&&(e.pathname=e.pathname==="/"?v:te([v,e.pathname])),ue(e)}function Zn(p,S={}){let v=B.useContext(lt);j(v!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:M}=xt("useViewTransitionState"),u=he(p,{relative:S.relative});if(!v.isTransitioning)return!1;let e=ne(v.currentLocation.pathname,M)||v.currentLocation.pathname,l=ne(v.nextLocation.pathname,M)||v.nextLocation.pathname;return Pe(u.pathname,l)!=null||Pe(u.pathname,e)!=null}[...Fn];const Ee=25,qn=Array.from({length:Ee},(p,S)=>25-5*S/(Ee-1)),ke=Array.from({length:Ee},(p,S)=>({amplitude:8+Math.random()*4,frequency:.004+Math.random()*.002,speed:.006+Math.random()*.005,offsetY:-140+S*qn[S],offsetX:0,opacity:.8-S*(1-.2)/(Ee-1),colorId:"gradient1"}));function _n(){const p=B.useRef([]),[S,v]=B.useState(1980);return B.useEffect(()=>{const M=()=>v(window.innerWidth);return M(),window.addEventListener("resize",M),()=>window.removeEventListener("resize",M)},[]),B.useEffect(()=>{const u=[],e=new Array(ke.length).fill(0);let o=S/1500;o<1&&(o=1);const n=()=>{const f=S/120;ke.forEach((i,d)=>{const s=p.current[d];if(!s)return;const t=-.1;let r="M 0 0 ";for(let a=0;a<=120;a++){const c=a*f+i.offsetX,m=(i.offsetY+i.amplitude*Math.sin(i.frequency*c+Math.sin(i.frequency*c+e[d]))+c*t)*o;r+=`L ${c} ${m} `}r+=`L ${S} 0 Z`,s.setAttribute("d",r),e[d]+=i.speed}),u[0]=requestAnimationFrame(n)};return n(),()=>u.forEach(f=>cancelAnimationFrame(f))},[S]),b.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100vw",height:"100vh",overflow:"hidden",zIndex:-1},children:b.jsxs("svg",{width:"100%",height:"100%",viewBox:`0 0 ${S} 320`,preserveAspectRatio:"none",style:{display:"block"},children:[b.jsx("defs",{children:b.jsxs("linearGradient",{id:"gradient1",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[b.jsx("stop",{offset:"0%",stopColor:"#ff9f00"}),b.jsx("stop",{offset:"100%",stopColor:"#bf00ff"})]})}),ke.map((M,u)=>b.jsx("path",{ref:e=>{p.current[u]=e},fill:`url(#${M.colorId})`,style:{fillOpacity:M.opacity}},u))]})})}function er(){return b.jsxs(b.Fragment,{children:[b.jsx(_n,{}),b.jsx("main",{className:"fullscreen",children:b.jsxs("div",{className:"container",children:[b.jsx("h1",{children:"Bienvenue !"}),b.jsx("p",{children:"Plusieurs sites sont disponibles sur ce domaine :"}),b.jsxs("ul",{children:[b.jsxs("li",{className:"link-preview",children:[b.jsxs("a",{href:"/multi-sites/louis",children:["🖥️ ",b.jsx("strong",{children:"Portfolio de Louis Le Meilleur"})]}),b.jsx("p",{className:"desc",children:"Créateur de ce site web, passionné d’informatique polyvalent."}),b.jsx("div",{className:"preview",children:b.jsx("img",{src:"/multi-sites/assets/preview_louis.png",alt:"Aperçu Louis"})})]}),b.jsxs("li",{className:"link-preview",children:[b.jsxs("a",{href:"/multi-sites/diane",children:["🖼️ ",b.jsx("strong",{children:"Portfolio de Diane Le Meilleur"})]}),b.jsx("p",{className:"desc",children:"Lores ipsum dolor sit amet, consectetur adipiscing elit."}),b.jsx("div",{className:"preview",children:b.jsx("img",{src:"/multi-sites/assets/preview_diane.png",alt:"Aperçu Diane"})})]})]}),b.jsxs("noscript",{children:[b.jsx("p",{className:"noscript",children:"JavaScript est désactivé dans votre navigateur."}),b.jsxs("p",{className:"noscript",children:["Le site reste accessible, mais certaines fonctionnalités avancées ne seront pas disponibles.",b.jsx("br",{}),"Pour une expérience optimale, activez JavaScript dans les paramètres de votre navigateur."]})]})]})}),b.jsx("style",{children:`
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      html, body {
        height: 100%;
        font-family: 'Poppins', system-ui, sans-serif;
      }

      .link-preview {
        position: relative;
        display: inline-block;
      }

      .preview {
        position: absolute;
        top: 50%;
        left: 105%;
        transform: translateY(-50%);
        width: 260px;
        height: 160px;
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.3s ease, transform 0.3s ease;
        border-radius: 10px;
        overflow: hidden;
        box-shadow: 0 10px 20px rgba(0,0,0,0.25);
        z-index: 5;
      }

      @media (max-width: 600px) {
        .preview {
          display: none;
        }
      }

      .preview img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        filter: blur(3px) brightness(0.85);
      }

      .link-preview:hover .preview {
        opacity: 1;
        transform: translateY(-50%) scale(1.02);
      }



      .fullscreen {
        height: 100vh;
        width: 100vw;
        display: flex;
        justify-content: center;
        align-items: center;
        position: relative;
        z-index: 10;
        padding: 1rem;
      }

      .container {
        background: rgba(255, 255, 255, 0.2);
        backdrop-filter: blur(15px);
        -webkit-backdrop-filter: blur(15px);
        border: 1px solid rgba(255, 255, 255, 0.2);
        width: 100%;
        max-width: 700px;
        padding: 2rem;
        border-radius: 12px;
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.08);
        text-align: center;
        transition: transform 0.4s ease, box-shadow 0.3s ease;
        animation: fadeIn 1.2s ease;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .container:hover {
        transform: scale(1.015) translateY(-3px);
        box-shadow: 0 12px 28px rgba(0, 0, 0, 0.15);
      }

      h1 {
        font-size: 2.2rem;
        margin-bottom: 1rem;
        color: black;
        font-weight: 700;
        line-height: 1.2;
        letter-spacing: -0.02em;
        text-align: center;
      }

      p {
        margin-bottom: 1.5rem;
        color: #333;
      }

      ul {
        list-style: none;
        padding: 0;
      }

      li {
        margin: 1.5rem 0;
      }

      a {
        text-decoration: none;
        color: #111;
        font-weight: 600;
        font-size: 1.2rem;
        border-bottom: 2px solid transparent;
        transition: all 0.2s ease;
      }

      a:hover {
        color: #000;
        border-bottom: 2px solid #000;
      }

      .desc {
        font-size: 0.85rem;
        color: #333;
        margin-top: 0.3rem;
        font-style: italic;
      }

      .noscript {
        margin-top: 1rem;
        color: #b00020;
        font-size: 0.9rem;
      }

      @media (max-width: 500px) {
        h1 {
          font-size: 1.8rem;
        }

        a {
          font-size: 1rem;
        }

        .desc {
          font-size: 0.8rem;
        }

        .container {
          padding: 1.5rem;
        }
      }
    `})]})}const tr=({children:p,fontSize:S="clamp(6rem, 10vw, 10rem)",fontWeight:v=900,fontFamily:M="inherit",color:u="#fff",enableHover:e=!0,baseIntensity:l=.18,hoverIntensity:o=.5})=>{const n=B.useRef(null);return B.useEffect(()=>{let f,i=!1;const d=n.current;return d?((async()=>{if(document.fonts?.ready&&await document.fonts.ready,i)return;const t=d.getContext("2d");if(!t)return;const r=M==="inherit"?window.getComputedStyle(d).fontFamily||"sans-serif":M,a=typeof S=="number"?`${S}px`:S;let c;if(typeof S=="number")c=S;else{const G=document.createElement("span");G.style.fontSize=S,document.body.appendChild(G);const z=window.getComputedStyle(G).fontSize;c=parseFloat(z),document.body.removeChild(G)}const m=tt.Children.toArray(p).join(""),y=document.createElement("canvas"),P=y.getContext("2d");if(!P)return;P.font=`${v} ${a} ${r}`,P.textBaseline="alphabetic";const L=P.measureText(m),h=L.actualBoundingBoxLeft??0,x=L.actualBoundingBoxRight??L.width,w=L.actualBoundingBoxAscent??c,g=L.actualBoundingBoxDescent??c*.2,E=Math.ceil(h+x),C=Math.ceil(w+g),R=10,I=E+R;y.width=I,y.height=C;const A=R/2;P.font=`${v} ${a} ${r}`,P.textBaseline="alphabetic",P.fillStyle=u,P.fillText(m,A-h,w);const k=50,T=0;d.width=I+k*2,d.height=C+T*2,t.translate(k,T);const F=k+A,D=T,O=F+E,V=D+C;let U=!1;const N=30,W=()=>{if(i)return;t.clearRect(-N,-N,I+2*N,C+2*N);const G=U?o:l;for(let z=0;z<C;z++){const Q=Math.floor(G*(Math.random()-.5)*N);t.drawImage(y,0,z,I,1,Q,z,I,1)}f=window.requestAnimationFrame(W)};W();const H=(G,z)=>G>=F&&G<=O&&z>=D&&z<=V,X=G=>{if(!e)return;const z=d.getBoundingClientRect(),Q=G.clientX-z.left,J=G.clientY-z.top;U=H(Q,J)},Y=()=>{U=!1},$=G=>{if(!e)return;G.preventDefault();const z=d.getBoundingClientRect(),Q=G.touches[0],J=Q.clientX-z.left,Le=Q.clientY-z.top;U=H(J,Le)},Z=()=>{U=!1};e&&(d.addEventListener("mousemove",X),d.addEventListener("mouseleave",Y),d.addEventListener("touchmove",$,{passive:!1}),d.addEventListener("touchend",Z));const K=()=>{window.cancelAnimationFrame(f),e&&(d.removeEventListener("mousemove",X),d.removeEventListener("mouseleave",Y),d.removeEventListener("touchmove",$),d.removeEventListener("touchend",Z))};d.cleanupFuzzyText=K})(),()=>{i=!0,window.cancelAnimationFrame(f),d&&d.cleanupFuzzyText&&d.cleanupFuzzyText()}):void 0},[p,S,v,M,u,e,l,o]),b.jsx("canvas",{ref:n})};var Ce={exports:{}};/*!
 * matter-js 0.20.0 by @liabru
 * http://brm.io/matter-js/
 * License MIT
 * 
 * The MIT License (MIT)
 * 
 * Copyright (c) Liam Brummitt and contributors.
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var nr=Ce.exports,et;function rr(){return et||(et=1,function(p,S){(function(M,u){p.exports=u()})(nr,function(){return function(v){var M={};function u(e){if(M[e])return M[e].exports;var l=M[e]={i:e,l:!1,exports:{}};return v[e].call(l.exports,l,l.exports,u),l.l=!0,l.exports}return u.m=v,u.c=M,u.d=function(e,l,o){u.o(e,l)||Object.defineProperty(e,l,{enumerable:!0,get:o})},u.r=function(e){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,l){if(l&1&&(e=u(e)),l&8||l&4&&typeof e=="object"&&e&&e.__esModule)return e;var o=Object.create(null);if(u.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),l&2&&typeof e!="string")for(var n in e)u.d(o,n,(function(f){return e[f]}).bind(null,n));return o},u.n=function(e){var l=e&&e.__esModule?function(){return e.default}:function(){return e};return u.d(l,"a",l),l},u.o=function(e,l){return Object.prototype.hasOwnProperty.call(e,l)},u.p="",u(u.s=20)}([function(v,M){var u={};v.exports=u,function(){u._baseDelta=1e3/60,u._nextId=0,u._seed=0,u._nowStartTime=+new Date,u._warnedOnce={},u._decomp=null,u.extend=function(l,o){var n,f;typeof o=="boolean"?(n=2,f=o):(n=1,f=!0);for(var i=n;i<arguments.length;i++){var d=arguments[i];if(d)for(var s in d)f&&d[s]&&d[s].constructor===Object&&(!l[s]||l[s].constructor===Object)?(l[s]=l[s]||{},u.extend(l[s],f,d[s])):l[s]=d[s]}return l},u.clone=function(l,o){return u.extend({},o,l)},u.keys=function(l){if(Object.keys)return Object.keys(l);var o=[];for(var n in l)o.push(n);return o},u.values=function(l){var o=[];if(Object.keys){for(var n=Object.keys(l),f=0;f<n.length;f++)o.push(l[n[f]]);return o}for(var i in l)o.push(l[i]);return o},u.get=function(l,o,n,f){o=o.split(".").slice(n,f);for(var i=0;i<o.length;i+=1)l=l[o[i]];return l},u.set=function(l,o,n,f,i){var d=o.split(".").slice(f,i);return u.get(l,o,0,-1)[d[d.length-1]]=n,n},u.shuffle=function(l){for(var o=l.length-1;o>0;o--){var n=Math.floor(u.random()*(o+1)),f=l[o];l[o]=l[n],l[n]=f}return l},u.choose=function(l){return l[Math.floor(u.random()*l.length)]},u.isElement=function(l){return typeof HTMLElement<"u"?l instanceof HTMLElement:!!(l&&l.nodeType&&l.nodeName)},u.isArray=function(l){return Object.prototype.toString.call(l)==="[object Array]"},u.isFunction=function(l){return typeof l=="function"},u.isPlainObject=function(l){return typeof l=="object"&&l.constructor===Object},u.isString=function(l){return toString.call(l)==="[object String]"},u.clamp=function(l,o,n){return l<o?o:l>n?n:l},u.sign=function(l){return l<0?-1:1},u.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-u._nowStartTime},u.random=function(l,o){return l=typeof l<"u"?l:0,o=typeof o<"u"?o:1,l+e()*(o-l)};var e=function(){return u._seed=(u._seed*9301+49297)%233280,u._seed/233280};u.colorToNumber=function(l){return l=l.replace("#",""),l.length==3&&(l=l.charAt(0)+l.charAt(0)+l.charAt(1)+l.charAt(1)+l.charAt(2)+l.charAt(2)),parseInt(l,16)},u.logLevel=1,u.log=function(){console&&u.logLevel>0&&u.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},u.info=function(){console&&u.logLevel>0&&u.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},u.warn=function(){console&&u.logLevel>0&&u.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},u.warnOnce=function(){var l=Array.prototype.slice.call(arguments).join(" ");u._warnedOnce[l]||(u.warn(l),u._warnedOnce[l]=!0)},u.deprecated=function(l,o,n){l[o]=u.chain(function(){u.warnOnce("🔅 deprecated 🔅",n)},l[o])},u.nextId=function(){return u._nextId++},u.indexOf=function(l,o){if(l.indexOf)return l.indexOf(o);for(var n=0;n<l.length;n++)if(l[n]===o)return n;return-1},u.map=function(l,o){if(l.map)return l.map(o);for(var n=[],f=0;f<l.length;f+=1)n.push(o(l[f]));return n},u.topologicalSort=function(l){var o=[],n=[],f=[];for(var i in l)!n[i]&&!f[i]&&u._topologicalSort(i,n,f,l,o);return o},u._topologicalSort=function(l,o,n,f,i){var d=f[l]||[];n[l]=!0;for(var s=0;s<d.length;s+=1){var t=d[s];n[t]||o[t]||u._topologicalSort(t,o,n,f,i)}n[l]=!1,o[l]=!0,i.push(l)},u.chain=function(){for(var l=[],o=0;o<arguments.length;o+=1){var n=arguments[o];n._chained?l.push.apply(l,n._chained):l.push(n)}var f=function(){for(var i,d=new Array(arguments.length),s=0,t=arguments.length;s<t;s++)d[s]=arguments[s];for(s=0;s<l.length;s+=1){var r=l[s].apply(i,d);typeof r<"u"&&(i=r)}return i};return f._chained=l,f},u.chainPathBefore=function(l,o,n){return u.set(l,o,u.chain(n,u.get(l,o)))},u.chainPathAfter=function(l,o,n){return u.set(l,o,u.chain(u.get(l,o),n))},u.setDecomp=function(l){u._decomp=l},u.getDecomp=function(){var l=u._decomp;try{!l&&typeof window<"u"&&(l=window.decomp),!l&&typeof Ke<"u"&&(l=Ke.decomp)}catch{l=null}return l}}()},function(v,M){var u={};v.exports=u,function(){u.create=function(e){var l={min:{x:0,y:0},max:{x:0,y:0}};return e&&u.update(l,e),l},u.update=function(e,l,o){e.min.x=1/0,e.max.x=-1/0,e.min.y=1/0,e.max.y=-1/0;for(var n=0;n<l.length;n++){var f=l[n];f.x>e.max.x&&(e.max.x=f.x),f.x<e.min.x&&(e.min.x=f.x),f.y>e.max.y&&(e.max.y=f.y),f.y<e.min.y&&(e.min.y=f.y)}o&&(o.x>0?e.max.x+=o.x:e.min.x+=o.x,o.y>0?e.max.y+=o.y:e.min.y+=o.y)},u.contains=function(e,l){return l.x>=e.min.x&&l.x<=e.max.x&&l.y>=e.min.y&&l.y<=e.max.y},u.overlaps=function(e,l){return e.min.x<=l.max.x&&e.max.x>=l.min.x&&e.max.y>=l.min.y&&e.min.y<=l.max.y},u.translate=function(e,l){e.min.x+=l.x,e.max.x+=l.x,e.min.y+=l.y,e.max.y+=l.y},u.shift=function(e,l){var o=e.max.x-e.min.x,n=e.max.y-e.min.y;e.min.x=l.x,e.max.x=l.x+o,e.min.y=l.y,e.max.y=l.y+n}}()},function(v,M){var u={};v.exports=u,function(){u.create=function(e,l){return{x:e||0,y:l||0}},u.clone=function(e){return{x:e.x,y:e.y}},u.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},u.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y},u.rotate=function(e,l,o){var n=Math.cos(l),f=Math.sin(l);o||(o={});var i=e.x*n-e.y*f;return o.y=e.x*f+e.y*n,o.x=i,o},u.rotateAbout=function(e,l,o,n){var f=Math.cos(l),i=Math.sin(l);n||(n={});var d=o.x+((e.x-o.x)*f-(e.y-o.y)*i);return n.y=o.y+((e.x-o.x)*i+(e.y-o.y)*f),n.x=d,n},u.normalise=function(e){var l=u.magnitude(e);return l===0?{x:0,y:0}:{x:e.x/l,y:e.y/l}},u.dot=function(e,l){return e.x*l.x+e.y*l.y},u.cross=function(e,l){return e.x*l.y-e.y*l.x},u.cross3=function(e,l,o){return(l.x-e.x)*(o.y-e.y)-(l.y-e.y)*(o.x-e.x)},u.add=function(e,l,o){return o||(o={}),o.x=e.x+l.x,o.y=e.y+l.y,o},u.sub=function(e,l,o){return o||(o={}),o.x=e.x-l.x,o.y=e.y-l.y,o},u.mult=function(e,l){return{x:e.x*l,y:e.y*l}},u.div=function(e,l){return{x:e.x/l,y:e.y/l}},u.perp=function(e,l){return l=l===!0?-1:1,{x:l*-e.y,y:l*e.x}},u.neg=function(e){return{x:-e.x,y:-e.y}},u.angle=function(e,l){return Math.atan2(l.y-e.y,l.x-e.x)},u._temp=[u.create(),u.create(),u.create(),u.create(),u.create(),u.create()]}()},function(v,M,u){var e={};v.exports=e;var l=u(2),o=u(0);(function(){e.create=function(n,f){for(var i=[],d=0;d<n.length;d++){var s=n[d],t={x:s.x,y:s.y,index:d,body:f,isInternal:!1};i.push(t)}return i},e.fromPath=function(n,f){var i=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,d=[];return n.replace(i,function(s,t,r){d.push({x:parseFloat(t),y:parseFloat(r)})}),e.create(d,f)},e.centre=function(n){for(var f=e.area(n,!0),i={x:0,y:0},d,s,t,r=0;r<n.length;r++)t=(r+1)%n.length,d=l.cross(n[r],n[t]),s=l.mult(l.add(n[r],n[t]),d),i=l.add(i,s);return l.div(i,6*f)},e.mean=function(n){for(var f={x:0,y:0},i=0;i<n.length;i++)f.x+=n[i].x,f.y+=n[i].y;return l.div(f,n.length)},e.area=function(n,f){for(var i=0,d=n.length-1,s=0;s<n.length;s++)i+=(n[d].x-n[s].x)*(n[d].y+n[s].y),d=s;return f?i/2:Math.abs(i)/2},e.inertia=function(n,f){for(var i=0,d=0,s=n,t,r,a=0;a<s.length;a++)r=(a+1)%s.length,t=Math.abs(l.cross(s[r],s[a])),i+=t*(l.dot(s[r],s[r])+l.dot(s[r],s[a])+l.dot(s[a],s[a])),d+=t;return f/6*(i/d)},e.translate=function(n,f,i){i=typeof i<"u"?i:1;var d=n.length,s=f.x*i,t=f.y*i,r;for(r=0;r<d;r++)n[r].x+=s,n[r].y+=t;return n},e.rotate=function(n,f,i){if(f!==0){var d=Math.cos(f),s=Math.sin(f),t=i.x,r=i.y,a=n.length,c,m,y,P;for(P=0;P<a;P++)c=n[P],m=c.x-t,y=c.y-r,c.x=t+(m*d-y*s),c.y=r+(m*s+y*d);return n}},e.contains=function(n,f){for(var i=f.x,d=f.y,s=n.length,t=n[s-1],r,a=0;a<s;a++){if(r=n[a],(i-t.x)*(r.y-t.y)+(d-t.y)*(t.x-r.x)>0)return!1;t=r}return!0},e.scale=function(n,f,i,d){if(f===1&&i===1)return n;d=d||e.centre(n);for(var s,t,r=0;r<n.length;r++)s=n[r],t=l.sub(s,d),n[r].x=d.x+t.x*f,n[r].y=d.y+t.y*i;return n},e.chamfer=function(n,f,i,d,s){typeof f=="number"?f=[f]:f=f||[8],i=typeof i<"u"?i:-1,d=d||2,s=s||14;for(var t=[],r=0;r<n.length;r++){var a=n[r-1>=0?r-1:n.length-1],c=n[r],m=n[(r+1)%n.length],y=f[r<f.length?r:f.length-1];if(y===0){t.push(c);continue}var P=l.normalise({x:c.y-a.y,y:a.x-c.x}),L=l.normalise({x:m.y-c.y,y:c.x-m.x}),h=Math.sqrt(2*Math.pow(y,2)),x=l.mult(o.clone(P),y),w=l.normalise(l.mult(l.add(P,L),.5)),g=l.sub(c,l.mult(w,h)),E=i;i===-1&&(E=Math.pow(y,.32)*1.75),E=o.clamp(E,d,s),E%2===1&&(E+=1);for(var C=Math.acos(l.dot(P,L)),R=C/E,I=0;I<E;I++)t.push(l.add(l.rotate(x,R*I),g))}return t},e.clockwiseSort=function(n){var f=e.mean(n);return n.sort(function(i,d){return l.angle(f,i)-l.angle(f,d)}),n},e.isConvex=function(n){var f=0,i=n.length,d,s,t,r;if(i<3)return null;for(d=0;d<i;d++)if(s=(d+1)%i,t=(d+2)%i,r=(n[s].x-n[d].x)*(n[t].y-n[s].y),r-=(n[s].y-n[d].y)*(n[t].x-n[s].x),r<0?f|=1:r>0&&(f|=2),f===3)return!1;return f!==0?!0:null},e.hull=function(n){var f=[],i=[],d,s;for(n=n.slice(0),n.sort(function(t,r){var a=t.x-r.x;return a!==0?a:t.y-r.y}),s=0;s<n.length;s+=1){for(d=n[s];i.length>=2&&l.cross3(i[i.length-2],i[i.length-1],d)<=0;)i.pop();i.push(d)}for(s=n.length-1;s>=0;s-=1){for(d=n[s];f.length>=2&&l.cross3(f[f.length-2],f[f.length-1],d)<=0;)f.pop();f.push(d)}return f.pop(),i.pop(),f.concat(i)}})()},function(v,M,u){var e={};v.exports=e;var l=u(3),o=u(2),n=u(7),f=u(0),i=u(1),d=u(11);(function(){e._timeCorrection=!0,e._inertiaScale=4,e._nextCollidingGroupId=1,e._nextNonCollidingGroupId=-1,e._nextCategory=1,e._baseDelta=1e3/60,e.create=function(t){var r={id:f.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:l.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,strokeStyle:null,fillStyle:null,lineWidth:null,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0}},events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inertia:0,deltaTime:16.666666666666668,_original:null},a=f.extend(r,t);return s(a,t),a},e.nextGroup=function(t){return t?e._nextNonCollidingGroupId--:e._nextCollidingGroupId++},e.nextCategory=function(){return e._nextCategory=e._nextCategory<<1,e._nextCategory};var s=function(t,r){r=r||{},e.set(t,{bounds:t.bounds||i.create(t.vertices),positionPrev:t.positionPrev||o.clone(t.position),anglePrev:t.anglePrev||t.angle,vertices:t.vertices,parts:t.parts||[t],isStatic:t.isStatic,isSleeping:t.isSleeping,parent:t.parent||t}),l.rotate(t.vertices,t.angle,t.position),d.rotate(t.axes,t.angle),i.update(t.bounds,t.vertices,t.velocity),e.set(t,{axes:r.axes||t.axes,area:r.area||t.area,mass:r.mass||t.mass,inertia:r.inertia||t.inertia});var a=t.isStatic?"#14151f":f.choose(["#f19648","#f5d259","#f55a3c","#063e7b","#ececd1"]),c=t.isStatic?"#555":"#ccc",m=t.isStatic&&t.render.fillStyle===null?1:0;t.render.fillStyle=t.render.fillStyle||a,t.render.strokeStyle=t.render.strokeStyle||c,t.render.lineWidth=t.render.lineWidth||m,t.render.sprite.xOffset+=-(t.bounds.min.x-t.position.x)/(t.bounds.max.x-t.bounds.min.x),t.render.sprite.yOffset+=-(t.bounds.min.y-t.position.y)/(t.bounds.max.y-t.bounds.min.y)};e.set=function(t,r,a){var c;typeof r=="string"&&(c=r,r={},r[c]=a);for(c in r)if(Object.prototype.hasOwnProperty.call(r,c))switch(a=r[c],c){case"isStatic":e.setStatic(t,a);break;case"isSleeping":n.set(t,a);break;case"mass":e.setMass(t,a);break;case"density":e.setDensity(t,a);break;case"inertia":e.setInertia(t,a);break;case"vertices":e.setVertices(t,a);break;case"position":e.setPosition(t,a);break;case"angle":e.setAngle(t,a);break;case"velocity":e.setVelocity(t,a);break;case"angularVelocity":e.setAngularVelocity(t,a);break;case"speed":e.setSpeed(t,a);break;case"angularSpeed":e.setAngularSpeed(t,a);break;case"parts":e.setParts(t,a);break;case"centre":e.setCentre(t,a);break;default:t[c]=a}},e.setStatic=function(t,r){for(var a=0;a<t.parts.length;a++){var c=t.parts[a];r?(c.isStatic||(c._original={restitution:c.restitution,friction:c.friction,mass:c.mass,inertia:c.inertia,density:c.density,inverseMass:c.inverseMass,inverseInertia:c.inverseInertia}),c.restitution=0,c.friction=1,c.mass=c.inertia=c.density=1/0,c.inverseMass=c.inverseInertia=0,c.positionPrev.x=c.position.x,c.positionPrev.y=c.position.y,c.anglePrev=c.angle,c.angularVelocity=0,c.speed=0,c.angularSpeed=0,c.motion=0):c._original&&(c.restitution=c._original.restitution,c.friction=c._original.friction,c.mass=c._original.mass,c.inertia=c._original.inertia,c.density=c._original.density,c.inverseMass=c._original.inverseMass,c.inverseInertia=c._original.inverseInertia,c._original=null),c.isStatic=r}},e.setMass=function(t,r){var a=t.inertia/(t.mass/6);t.inertia=a*(r/6),t.inverseInertia=1/t.inertia,t.mass=r,t.inverseMass=1/t.mass,t.density=t.mass/t.area},e.setDensity=function(t,r){e.setMass(t,r*t.area),t.density=r},e.setInertia=function(t,r){t.inertia=r,t.inverseInertia=1/t.inertia},e.setVertices=function(t,r){r[0].body===t?t.vertices=r:t.vertices=l.create(r,t),t.axes=d.fromVertices(t.vertices),t.area=l.area(t.vertices),e.setMass(t,t.density*t.area);var a=l.centre(t.vertices);l.translate(t.vertices,a,-1),e.setInertia(t,e._inertiaScale*l.inertia(t.vertices,t.mass)),l.translate(t.vertices,t.position),i.update(t.bounds,t.vertices,t.velocity)},e.setParts=function(t,r,a){var c;for(r=r.slice(0),t.parts.length=0,t.parts.push(t),t.parent=t,c=0;c<r.length;c++){var m=r[c];m!==t&&(m.parent=t,t.parts.push(m))}if(t.parts.length!==1){if(a=typeof a<"u"?a:!0,a){var y=[];for(c=0;c<r.length;c++)y=y.concat(r[c].vertices);l.clockwiseSort(y);var P=l.hull(y),L=l.centre(P);e.setVertices(t,P),l.translate(t.vertices,L)}var h=e._totalProperties(t);t.area=h.area,t.parent=t,t.position.x=h.centre.x,t.position.y=h.centre.y,t.positionPrev.x=h.centre.x,t.positionPrev.y=h.centre.y,e.setMass(t,h.mass),e.setInertia(t,h.inertia),e.setPosition(t,h.centre)}},e.setCentre=function(t,r,a){a?(t.positionPrev.x+=r.x,t.positionPrev.y+=r.y,t.position.x+=r.x,t.position.y+=r.y):(t.positionPrev.x=r.x-(t.position.x-t.positionPrev.x),t.positionPrev.y=r.y-(t.position.y-t.positionPrev.y),t.position.x=r.x,t.position.y=r.y)},e.setPosition=function(t,r,a){var c=o.sub(r,t.position);a?(t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.velocity.x=c.x,t.velocity.y=c.y,t.speed=o.magnitude(c)):(t.positionPrev.x+=c.x,t.positionPrev.y+=c.y);for(var m=0;m<t.parts.length;m++){var y=t.parts[m];y.position.x+=c.x,y.position.y+=c.y,l.translate(y.vertices,c),i.update(y.bounds,y.vertices,t.velocity)}},e.setAngle=function(t,r,a){var c=r-t.angle;a?(t.anglePrev=t.angle,t.angularVelocity=c,t.angularSpeed=Math.abs(c)):t.anglePrev+=c;for(var m=0;m<t.parts.length;m++){var y=t.parts[m];y.angle+=c,l.rotate(y.vertices,c,t.position),d.rotate(y.axes,c),i.update(y.bounds,y.vertices,t.velocity),m>0&&o.rotateAbout(y.position,c,t.position,y.position)}},e.setVelocity=function(t,r){var a=t.deltaTime/e._baseDelta;t.positionPrev.x=t.position.x-r.x*a,t.positionPrev.y=t.position.y-r.y*a,t.velocity.x=(t.position.x-t.positionPrev.x)/a,t.velocity.y=(t.position.y-t.positionPrev.y)/a,t.speed=o.magnitude(t.velocity)},e.getVelocity=function(t){var r=e._baseDelta/t.deltaTime;return{x:(t.position.x-t.positionPrev.x)*r,y:(t.position.y-t.positionPrev.y)*r}},e.getSpeed=function(t){return o.magnitude(e.getVelocity(t))},e.setSpeed=function(t,r){e.setVelocity(t,o.mult(o.normalise(e.getVelocity(t)),r))},e.setAngularVelocity=function(t,r){var a=t.deltaTime/e._baseDelta;t.anglePrev=t.angle-r*a,t.angularVelocity=(t.angle-t.anglePrev)/a,t.angularSpeed=Math.abs(t.angularVelocity)},e.getAngularVelocity=function(t){return(t.angle-t.anglePrev)*e._baseDelta/t.deltaTime},e.getAngularSpeed=function(t){return Math.abs(e.getAngularVelocity(t))},e.setAngularSpeed=function(t,r){e.setAngularVelocity(t,f.sign(e.getAngularVelocity(t))*r)},e.translate=function(t,r,a){e.setPosition(t,o.add(t.position,r),a)},e.rotate=function(t,r,a,c){if(!a)e.setAngle(t,t.angle+r,c);else{var m=Math.cos(r),y=Math.sin(r),P=t.position.x-a.x,L=t.position.y-a.y;e.setPosition(t,{x:a.x+(P*m-L*y),y:a.y+(P*y+L*m)},c),e.setAngle(t,t.angle+r,c)}},e.scale=function(t,r,a,c){var m=0,y=0;c=c||t.position;for(var P=0;P<t.parts.length;P++){var L=t.parts[P];l.scale(L.vertices,r,a,c),L.axes=d.fromVertices(L.vertices),L.area=l.area(L.vertices),e.setMass(L,t.density*L.area),l.translate(L.vertices,{x:-L.position.x,y:-L.position.y}),e.setInertia(L,e._inertiaScale*l.inertia(L.vertices,L.mass)),l.translate(L.vertices,{x:L.position.x,y:L.position.y}),P>0&&(m+=L.area,y+=L.inertia),L.position.x=c.x+(L.position.x-c.x)*r,L.position.y=c.y+(L.position.y-c.y)*a,i.update(L.bounds,L.vertices,t.velocity)}t.parts.length>1&&(t.area=m,t.isStatic||(e.setMass(t,t.density*m),e.setInertia(t,y))),t.circleRadius&&(r===a?t.circleRadius*=r:t.circleRadius=null)},e.update=function(t,r){r=(typeof r<"u"?r:1e3/60)*t.timeScale;var a=r*r,c=e._timeCorrection?r/(t.deltaTime||r):1,m=1-t.frictionAir*(r/f._baseDelta),y=(t.position.x-t.positionPrev.x)*c,P=(t.position.y-t.positionPrev.y)*c;t.velocity.x=y*m+t.force.x/t.mass*a,t.velocity.y=P*m+t.force.y/t.mass*a,t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.position.x+=t.velocity.x,t.position.y+=t.velocity.y,t.deltaTime=r,t.angularVelocity=(t.angle-t.anglePrev)*m*c+t.torque/t.inertia*a,t.anglePrev=t.angle,t.angle+=t.angularVelocity;for(var L=0;L<t.parts.length;L++){var h=t.parts[L];l.translate(h.vertices,t.velocity),L>0&&(h.position.x+=t.velocity.x,h.position.y+=t.velocity.y),t.angularVelocity!==0&&(l.rotate(h.vertices,t.angularVelocity,t.position),d.rotate(h.axes,t.angularVelocity),L>0&&o.rotateAbout(h.position,t.angularVelocity,t.position,h.position)),i.update(h.bounds,h.vertices,t.velocity)}},e.updateVelocities=function(t){var r=e._baseDelta/t.deltaTime,a=t.velocity;a.x=(t.position.x-t.positionPrev.x)*r,a.y=(t.position.y-t.positionPrev.y)*r,t.speed=Math.sqrt(a.x*a.x+a.y*a.y),t.angularVelocity=(t.angle-t.anglePrev)*r,t.angularSpeed=Math.abs(t.angularVelocity)},e.applyForce=function(t,r,a){var c={x:r.x-t.position.x,y:r.y-t.position.y};t.force.x+=a.x,t.force.y+=a.y,t.torque+=c.x*a.y-c.y*a.x},e._totalProperties=function(t){for(var r={mass:0,area:0,inertia:0,centre:{x:0,y:0}},a=t.parts.length===1?0:1;a<t.parts.length;a++){var c=t.parts[a],m=c.mass!==1/0?c.mass:1;r.mass+=m,r.area+=c.area,r.inertia+=c.inertia,r.centre=o.add(r.centre,o.mult(c.position,m))}return r.centre=o.div(r.centre,r.mass),r}})()},function(v,M,u){var e={};v.exports=e;var l=u(0);(function(){e.on=function(o,n,f){for(var i=n.split(" "),d,s=0;s<i.length;s++)d=i[s],o.events=o.events||{},o.events[d]=o.events[d]||[],o.events[d].push(f);return f},e.off=function(o,n,f){if(!n){o.events={};return}typeof n=="function"&&(f=n,n=l.keys(o.events).join(" "));for(var i=n.split(" "),d=0;d<i.length;d++){var s=o.events[i[d]],t=[];if(f&&s)for(var r=0;r<s.length;r++)s[r]!==f&&t.push(s[r]);o.events[i[d]]=t}},e.trigger=function(o,n,f){var i,d,s,t,r=o.events;if(r&&l.keys(r).length>0){f||(f={}),i=n.split(" ");for(var a=0;a<i.length;a++)if(d=i[a],s=r[d],s){t=l.clone(f,!1),t.name=d,t.source=o;for(var c=0;c<s.length;c++)s[c].apply(o,[t])}}}})()},function(v,M,u){var e={};v.exports=e;var l=u(5),o=u(0),n=u(1),f=u(4);(function(){e.create=function(i){return o.extend({id:o.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},i)},e.setModified=function(i,d,s,t){if(i.isModified=d,d&&i.cache&&(i.cache.allBodies=null,i.cache.allConstraints=null,i.cache.allComposites=null),s&&i.parent&&e.setModified(i.parent,d,s,t),t)for(var r=0;r<i.composites.length;r++){var a=i.composites[r];e.setModified(a,d,s,t)}},e.add=function(i,d){var s=[].concat(d);l.trigger(i,"beforeAdd",{object:d});for(var t=0;t<s.length;t++){var r=s[t];switch(r.type){case"body":if(r.parent!==r){o.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}e.addBody(i,r);break;case"constraint":e.addConstraint(i,r);break;case"composite":e.addComposite(i,r);break;case"mouseConstraint":e.addConstraint(i,r.constraint);break}}return l.trigger(i,"afterAdd",{object:d}),i},e.remove=function(i,d,s){var t=[].concat(d);l.trigger(i,"beforeRemove",{object:d});for(var r=0;r<t.length;r++){var a=t[r];switch(a.type){case"body":e.removeBody(i,a,s);break;case"constraint":e.removeConstraint(i,a,s);break;case"composite":e.removeComposite(i,a,s);break;case"mouseConstraint":e.removeConstraint(i,a.constraint);break}}return l.trigger(i,"afterRemove",{object:d}),i},e.addComposite=function(i,d){return i.composites.push(d),d.parent=i,e.setModified(i,!0,!0,!1),i},e.removeComposite=function(i,d,s){var t=o.indexOf(i.composites,d);if(t!==-1){var r=e.allBodies(d);e.removeCompositeAt(i,t);for(var a=0;a<r.length;a++)r[a].sleepCounter=0}if(s)for(var a=0;a<i.composites.length;a++)e.removeComposite(i.composites[a],d,!0);return i},e.removeCompositeAt=function(i,d){return i.composites.splice(d,1),e.setModified(i,!0,!0,!1),i},e.addBody=function(i,d){return i.bodies.push(d),e.setModified(i,!0,!0,!1),i},e.removeBody=function(i,d,s){var t=o.indexOf(i.bodies,d);if(t!==-1&&(e.removeBodyAt(i,t),d.sleepCounter=0),s)for(var r=0;r<i.composites.length;r++)e.removeBody(i.composites[r],d,!0);return i},e.removeBodyAt=function(i,d){return i.bodies.splice(d,1),e.setModified(i,!0,!0,!1),i},e.addConstraint=function(i,d){return i.constraints.push(d),e.setModified(i,!0,!0,!1),i},e.removeConstraint=function(i,d,s){var t=o.indexOf(i.constraints,d);if(t!==-1&&e.removeConstraintAt(i,t),s)for(var r=0;r<i.composites.length;r++)e.removeConstraint(i.composites[r],d,!0);return i},e.removeConstraintAt=function(i,d){return i.constraints.splice(d,1),e.setModified(i,!0,!0,!1),i},e.clear=function(i,d,s){if(s)for(var t=0;t<i.composites.length;t++)e.clear(i.composites[t],d,!0);return d?i.bodies=i.bodies.filter(function(r){return r.isStatic}):i.bodies.length=0,i.constraints.length=0,i.composites.length=0,e.setModified(i,!0,!0,!1),i},e.allBodies=function(i){if(i.cache&&i.cache.allBodies)return i.cache.allBodies;for(var d=[].concat(i.bodies),s=0;s<i.composites.length;s++)d=d.concat(e.allBodies(i.composites[s]));return i.cache&&(i.cache.allBodies=d),d},e.allConstraints=function(i){if(i.cache&&i.cache.allConstraints)return i.cache.allConstraints;for(var d=[].concat(i.constraints),s=0;s<i.composites.length;s++)d=d.concat(e.allConstraints(i.composites[s]));return i.cache&&(i.cache.allConstraints=d),d},e.allComposites=function(i){if(i.cache&&i.cache.allComposites)return i.cache.allComposites;for(var d=[].concat(i.composites),s=0;s<i.composites.length;s++)d=d.concat(e.allComposites(i.composites[s]));return i.cache&&(i.cache.allComposites=d),d},e.get=function(i,d,s){var t,r;switch(s){case"body":t=e.allBodies(i);break;case"constraint":t=e.allConstraints(i);break;case"composite":t=e.allComposites(i).concat(i);break}return t?(r=t.filter(function(a){return a.id.toString()===d.toString()}),r.length===0?null:r[0]):null},e.move=function(i,d,s){return e.remove(i,d),e.add(s,d),i},e.rebase=function(i){for(var d=e.allBodies(i).concat(e.allConstraints(i)).concat(e.allComposites(i)),s=0;s<d.length;s++)d[s].id=o.nextId();return i},e.translate=function(i,d,s){for(var t=s?e.allBodies(i):i.bodies,r=0;r<t.length;r++)f.translate(t[r],d);return i},e.rotate=function(i,d,s,t){for(var r=Math.cos(d),a=Math.sin(d),c=t?e.allBodies(i):i.bodies,m=0;m<c.length;m++){var y=c[m],P=y.position.x-s.x,L=y.position.y-s.y;f.setPosition(y,{x:s.x+(P*r-L*a),y:s.y+(P*a+L*r)}),f.rotate(y,d)}return i},e.scale=function(i,d,s,t,r){for(var a=r?e.allBodies(i):i.bodies,c=0;c<a.length;c++){var m=a[c],y=m.position.x-t.x,P=m.position.y-t.y;f.setPosition(m,{x:t.x+y*d,y:t.y+P*s}),f.scale(m,d,s)}return i},e.bounds=function(i){for(var d=e.allBodies(i),s=[],t=0;t<d.length;t+=1){var r=d[t];s.push(r.bounds.min,r.bounds.max)}return n.create(s)}})()},function(v,M,u){var e={};v.exports=e;var l=u(4),o=u(5),n=u(0);(function(){e._motionWakeThreshold=.18,e._motionSleepThreshold=.08,e._minBias=.9,e.update=function(f,i){for(var d=i/n._baseDelta,s=e._motionSleepThreshold,t=0;t<f.length;t++){var r=f[t],a=l.getSpeed(r),c=l.getAngularSpeed(r),m=a*a+c*c;if(r.force.x!==0||r.force.y!==0){e.set(r,!1);continue}var y=Math.min(r.motion,m),P=Math.max(r.motion,m);r.motion=e._minBias*y+(1-e._minBias)*P,r.sleepThreshold>0&&r.motion<s?(r.sleepCounter+=1,r.sleepCounter>=r.sleepThreshold/d&&e.set(r,!0)):r.sleepCounter>0&&(r.sleepCounter-=1)}},e.afterCollisions=function(f){for(var i=e._motionSleepThreshold,d=0;d<f.length;d++){var s=f[d];if(s.isActive){var t=s.collision,r=t.bodyA.parent,a=t.bodyB.parent;if(!(r.isSleeping&&a.isSleeping||r.isStatic||a.isStatic)&&(r.isSleeping||a.isSleeping)){var c=r.isSleeping&&!r.isStatic?r:a,m=c===r?a:r;!c.isStatic&&m.motion>i&&e.set(c,!1)}}}},e.set=function(f,i){var d=f.isSleeping;i?(f.isSleeping=!0,f.sleepCounter=f.sleepThreshold,f.positionImpulse.x=0,f.positionImpulse.y=0,f.positionPrev.x=f.position.x,f.positionPrev.y=f.position.y,f.anglePrev=f.angle,f.speed=0,f.angularSpeed=0,f.motion=0,d||o.trigger(f,"sleepStart")):(f.isSleeping=!1,f.sleepCounter=0,d&&o.trigger(f,"sleepEnd"))}})()},function(v,M,u){var e={};v.exports=e;var l=u(3),o=u(9);(function(){var n=[],f={overlap:0,axis:null},i={overlap:0,axis:null};e.create=function(d,s){return{pair:null,collided:!1,bodyA:d,bodyB:s,parentA:d.parent,parentB:s.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},e.collides=function(d,s,t){if(e._overlapAxes(f,d.vertices,s.vertices,d.axes),f.overlap<=0||(e._overlapAxes(i,s.vertices,d.vertices,s.axes),i.overlap<=0))return null;var r=t&&t.table[o.id(d,s)],a;r?a=r.collision:(a=e.create(d,s),a.collided=!0,a.bodyA=d.id<s.id?d:s,a.bodyB=d.id<s.id?s:d,a.parentA=a.bodyA.parent,a.parentB=a.bodyB.parent),d=a.bodyA,s=a.bodyB;var c;f.overlap<i.overlap?c=f:c=i;var m=a.normal,y=a.tangent,P=a.penetration,L=a.supports,h=c.overlap,x=c.axis,w=x.x,g=x.y,E=s.position.x-d.position.x,C=s.position.y-d.position.y;w*E+g*C>=0&&(w=-w,g=-g),m.x=w,m.y=g,y.x=-g,y.y=w,P.x=w*h,P.y=g*h,a.depth=h;var R=e._findSupports(d,s,m,1),I=0;if(l.contains(d.vertices,R[0])&&(L[I++]=R[0]),l.contains(d.vertices,R[1])&&(L[I++]=R[1]),I<2){var A=e._findSupports(s,d,m,-1);l.contains(s.vertices,A[0])&&(L[I++]=A[0]),I<2&&l.contains(s.vertices,A[1])&&(L[I++]=A[1])}return I===0&&(L[I++]=R[0]),a.supportCount=I,a},e._overlapAxes=function(d,s,t,r){var a=s.length,c=t.length,m=s[0].x,y=s[0].y,P=t[0].x,L=t[0].y,h=r.length,x=Number.MAX_VALUE,w=0,g,E,C,R,I,A;for(I=0;I<h;I++){var k=r[I],T=k.x,F=k.y,D=m*T+y*F,O=P*T+L*F,V=D,U=O;for(A=1;A<a;A+=1)R=s[A].x*T+s[A].y*F,R>V?V=R:R<D&&(D=R);for(A=1;A<c;A+=1)R=t[A].x*T+t[A].y*F,R>U?U=R:R<O&&(O=R);if(E=V-O,C=U-D,g=E<C?E:C,g<x&&(x=g,w=I,g<=0))break}d.axis=r[w],d.overlap=x},e._findSupports=function(d,s,t,r){var a=s.vertices,c=a.length,m=d.position.x,y=d.position.y,P=t.x*r,L=t.y*r,h=a[0],x=h,w=P*(m-x.x)+L*(y-x.y),g,E,C;for(C=1;C<c;C+=1)x=a[C],E=P*(m-x.x)+L*(y-x.y),E<w&&(w=E,h=x);return g=a[(c+h.index-1)%c],w=P*(m-g.x)+L*(y-g.y),x=a[(h.index+1)%c],P*(m-x.x)+L*(y-x.y)<w?(n[0]=h,n[1]=x,n):(n[0]=h,n[1]=g,n)}})()},function(v,M,u){var e={};v.exports=e;var l=u(16);(function(){e.create=function(o,n){var f=o.bodyA,i=o.bodyB,d={id:e.id(f,i),bodyA:f,bodyB:i,collision:o,contacts:[l.create(),l.create()],contactCount:0,separation:0,isActive:!0,isSensor:f.isSensor||i.isSensor,timeCreated:n,timeUpdated:n,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return e.update(d,o,n),d},e.update=function(o,n,f){var i=n.supports,d=n.supportCount,s=o.contacts,t=n.parentA,r=n.parentB;o.isActive=!0,o.timeUpdated=f,o.collision=n,o.separation=n.depth,o.inverseMass=t.inverseMass+r.inverseMass,o.friction=t.friction<r.friction?t.friction:r.friction,o.frictionStatic=t.frictionStatic>r.frictionStatic?t.frictionStatic:r.frictionStatic,o.restitution=t.restitution>r.restitution?t.restitution:r.restitution,o.slop=t.slop>r.slop?t.slop:r.slop,o.contactCount=d,n.pair=o;var a=i[0],c=s[0],m=i[1],y=s[1];(y.vertex===a||c.vertex===m)&&(s[1]=c,s[0]=c=y,y=s[1]),c.vertex=a,y.vertex=m},e.setActive=function(o,n,f){n?(o.isActive=!0,o.timeUpdated=f):(o.isActive=!1,o.contactCount=0)},e.id=function(o,n){return o.id<n.id?o.id.toString(36)+":"+n.id.toString(36):n.id.toString(36)+":"+o.id.toString(36)}})()},function(v,M,u){var e={};v.exports=e;var l=u(3),o=u(2),n=u(7),f=u(1),i=u(11),d=u(0);(function(){e._warming=.4,e._torqueDampen=1,e._minLength=1e-6,e.create=function(s){var t=s;t.bodyA&&!t.pointA&&(t.pointA={x:0,y:0}),t.bodyB&&!t.pointB&&(t.pointB={x:0,y:0});var r=t.bodyA?o.add(t.bodyA.position,t.pointA):t.pointA,a=t.bodyB?o.add(t.bodyB.position,t.pointB):t.pointB,c=o.magnitude(o.sub(r,a));t.length=typeof t.length<"u"?t.length:c,t.id=t.id||d.nextId(),t.label=t.label||"Constraint",t.type="constraint",t.stiffness=t.stiffness||(t.length>0?1:.7),t.damping=t.damping||0,t.angularStiffness=t.angularStiffness||0,t.angleA=t.bodyA?t.bodyA.angle:t.angleA,t.angleB=t.bodyB?t.bodyB.angle:t.angleB,t.plugin={};var m={visible:!0,lineWidth:2,strokeStyle:"#ffffff",type:"line",anchors:!0};return t.length===0&&t.stiffness>.1?(m.type="pin",m.anchors=!1):t.stiffness<.9&&(m.type="spring"),t.render=d.extend(m,t.render),t},e.preSolveAll=function(s){for(var t=0;t<s.length;t+=1){var r=s[t],a=r.constraintImpulse;r.isStatic||a.x===0&&a.y===0&&a.angle===0||(r.position.x+=a.x,r.position.y+=a.y,r.angle+=a.angle)}},e.solveAll=function(s,t){for(var r=d.clamp(t/d._baseDelta,0,1),a=0;a<s.length;a+=1){var c=s[a],m=!c.bodyA||c.bodyA&&c.bodyA.isStatic,y=!c.bodyB||c.bodyB&&c.bodyB.isStatic;(m||y)&&e.solve(s[a],r)}for(a=0;a<s.length;a+=1)c=s[a],m=!c.bodyA||c.bodyA&&c.bodyA.isStatic,y=!c.bodyB||c.bodyB&&c.bodyB.isStatic,!m&&!y&&e.solve(s[a],r)},e.solve=function(s,t){var r=s.bodyA,a=s.bodyB,c=s.pointA,m=s.pointB;if(!(!r&&!a)){r&&!r.isStatic&&(o.rotate(c,r.angle-s.angleA,c),s.angleA=r.angle),a&&!a.isStatic&&(o.rotate(m,a.angle-s.angleB,m),s.angleB=a.angle);var y=c,P=m;if(r&&(y=o.add(r.position,c)),a&&(P=o.add(a.position,m)),!(!y||!P)){var L=o.sub(y,P),h=o.magnitude(L);h<e._minLength&&(h=e._minLength);var x=(h-s.length)/h,w=s.stiffness>=1||s.length===0,g=w?s.stiffness*t:s.stiffness*t*t,E=s.damping*t,C=o.mult(L,x*g),R=(r?r.inverseMass:0)+(a?a.inverseMass:0),I=(r?r.inverseInertia:0)+(a?a.inverseInertia:0),A=R+I,k,T,F,D,O;if(E>0){var V=o.create();F=o.div(L,h),O=o.sub(a&&o.sub(a.position,a.positionPrev)||V,r&&o.sub(r.position,r.positionPrev)||V),D=o.dot(F,O)}r&&!r.isStatic&&(T=r.inverseMass/R,r.constraintImpulse.x-=C.x*T,r.constraintImpulse.y-=C.y*T,r.position.x-=C.x*T,r.position.y-=C.y*T,E>0&&(r.positionPrev.x-=E*F.x*D*T,r.positionPrev.y-=E*F.y*D*T),k=o.cross(c,C)/A*e._torqueDampen*r.inverseInertia*(1-s.angularStiffness),r.constraintImpulse.angle-=k,r.angle-=k),a&&!a.isStatic&&(T=a.inverseMass/R,a.constraintImpulse.x+=C.x*T,a.constraintImpulse.y+=C.y*T,a.position.x+=C.x*T,a.position.y+=C.y*T,E>0&&(a.positionPrev.x+=E*F.x*D*T,a.positionPrev.y+=E*F.y*D*T),k=o.cross(m,C)/A*e._torqueDampen*a.inverseInertia*(1-s.angularStiffness),a.constraintImpulse.angle+=k,a.angle+=k)}}},e.postSolveAll=function(s){for(var t=0;t<s.length;t++){var r=s[t],a=r.constraintImpulse;if(!(r.isStatic||a.x===0&&a.y===0&&a.angle===0)){n.set(r,!1);for(var c=0;c<r.parts.length;c++){var m=r.parts[c];l.translate(m.vertices,a),c>0&&(m.position.x+=a.x,m.position.y+=a.y),a.angle!==0&&(l.rotate(m.vertices,a.angle,r.position),i.rotate(m.axes,a.angle),c>0&&o.rotateAbout(m.position,a.angle,r.position,m.position)),f.update(m.bounds,m.vertices,r.velocity)}a.angle*=e._warming,a.x*=e._warming,a.y*=e._warming}}},e.pointAWorld=function(s){return{x:(s.bodyA?s.bodyA.position.x:0)+(s.pointA?s.pointA.x:0),y:(s.bodyA?s.bodyA.position.y:0)+(s.pointA?s.pointA.y:0)}},e.pointBWorld=function(s){return{x:(s.bodyB?s.bodyB.position.x:0)+(s.pointB?s.pointB.x:0),y:(s.bodyB?s.bodyB.position.y:0)+(s.pointB?s.pointB.y:0)}},e.currentLength=function(s){var t=(s.bodyA?s.bodyA.position.x:0)+(s.pointA?s.pointA.x:0),r=(s.bodyA?s.bodyA.position.y:0)+(s.pointA?s.pointA.y:0),a=(s.bodyB?s.bodyB.position.x:0)+(s.pointB?s.pointB.x:0),c=(s.bodyB?s.bodyB.position.y:0)+(s.pointB?s.pointB.y:0),m=t-a,y=r-c;return Math.sqrt(m*m+y*y)}})()},function(v,M,u){var e={};v.exports=e;var l=u(2),o=u(0);(function(){e.fromVertices=function(n){for(var f={},i=0;i<n.length;i++){var d=(i+1)%n.length,s=l.normalise({x:n[d].y-n[i].y,y:n[i].x-n[d].x}),t=s.y===0?1/0:s.x/s.y;t=t.toFixed(3).toString(),f[t]=s}return o.values(f)},e.rotate=function(n,f){if(f!==0)for(var i=Math.cos(f),d=Math.sin(f),s=0;s<n.length;s++){var t=n[s],r;r=t.x*i-t.y*d,t.y=t.x*d+t.y*i,t.x=r}}})()},function(v,M,u){var e={};v.exports=e;var l=u(3),o=u(0),n=u(4),f=u(1),i=u(2);(function(){e.rectangle=function(d,s,t,r,a){a=a||{};var c={label:"Rectangle Body",position:{x:d,y:s},vertices:l.fromPath("L 0 0 L "+t+" 0 L "+t+" "+r+" L 0 "+r)};if(a.chamfer){var m=a.chamfer;c.vertices=l.chamfer(c.vertices,m.radius,m.quality,m.qualityMin,m.qualityMax),delete a.chamfer}return n.create(o.extend({},c,a))},e.trapezoid=function(d,s,t,r,a,c){c=c||{},a>=1&&o.warn("Bodies.trapezoid: slope parameter must be < 1."),a*=.5;var m=(1-a*2)*t,y=t*a,P=y+m,L=P+y,h;a<.5?h="L 0 0 L "+y+" "+-r+" L "+P+" "+-r+" L "+L+" 0":h="L 0 0 L "+P+" "+-r+" L "+L+" 0";var x={label:"Trapezoid Body",position:{x:d,y:s},vertices:l.fromPath(h)};if(c.chamfer){var w=c.chamfer;x.vertices=l.chamfer(x.vertices,w.radius,w.quality,w.qualityMin,w.qualityMax),delete c.chamfer}return n.create(o.extend({},x,c))},e.circle=function(d,s,t,r,a){r=r||{};var c={label:"Circle Body",circleRadius:t};a=a||25;var m=Math.ceil(Math.max(10,Math.min(a,t)));return m%2===1&&(m+=1),e.polygon(d,s,m,t,o.extend({},c,r))},e.polygon=function(d,s,t,r,a){if(a=a||{},t<3)return e.circle(d,s,r,a);for(var c=2*Math.PI/t,m="",y=c*.5,P=0;P<t;P+=1){var L=y+P*c,h=Math.cos(L)*r,x=Math.sin(L)*r;m+="L "+h.toFixed(3)+" "+x.toFixed(3)+" "}var w={label:"Polygon Body",position:{x:d,y:s},vertices:l.fromPath(m)};if(a.chamfer){var g=a.chamfer;w.vertices=l.chamfer(w.vertices,g.radius,g.quality,g.qualityMin,g.qualityMax),delete a.chamfer}return n.create(o.extend({},w,a))},e.fromVertices=function(d,s,t,r,a,c,m,y){var P=o.getDecomp(),L,h,x,w,g,E,C,R,I,A,k;for(L=!!(P&&P.quickDecomp),r=r||{},x=[],a=typeof a<"u"?a:!1,c=typeof c<"u"?c:.01,m=typeof m<"u"?m:10,y=typeof y<"u"?y:.01,o.isArray(t[0])||(t=[t]),A=0;A<t.length;A+=1)if(E=t[A],w=l.isConvex(E),g=!w,g&&!L&&o.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),w||!L)w?E=l.clockwiseSort(E):E=l.hull(E),x.push({position:{x:d,y:s},vertices:E});else{var T=E.map(function($){return[$.x,$.y]});P.makeCCW(T),c!==!1&&P.removeCollinearPoints(T,c),y!==!1&&P.removeDuplicatePoints&&P.removeDuplicatePoints(T,y);var F=P.quickDecomp(T);for(C=0;C<F.length;C++){var D=F[C],O=D.map(function($){return{x:$[0],y:$[1]}});m>0&&l.area(O)<m||x.push({position:l.centre(O),vertices:O})}}for(C=0;C<x.length;C++)x[C]=n.create(o.extend(x[C],r));if(a){var V=5;for(C=0;C<x.length;C++){var U=x[C];for(R=C+1;R<x.length;R++){var N=x[R];if(f.overlaps(U.bounds,N.bounds)){var W=U.vertices,H=N.vertices;for(I=0;I<U.vertices.length;I++)for(k=0;k<N.vertices.length;k++){var X=i.magnitudeSquared(i.sub(W[(I+1)%W.length],H[k])),Y=i.magnitudeSquared(i.sub(W[I],H[(k+1)%H.length]));X<V&&Y<V&&(W[I].isInternal=!0,H[k].isInternal=!0)}}}}}return x.length>1?(h=n.create(o.extend({parts:x.slice(0)},r)),n.setPosition(h,{x:d,y:s}),h):x[0]}})()},function(v,M,u){var e={};v.exports=e;var l=u(0),o=u(8);(function(){e.create=function(n){var f={bodies:[],collisions:[],pairs:null};return l.extend(f,n)},e.setBodies=function(n,f){n.bodies=f.slice(0)},e.clear=function(n){n.bodies=[],n.collisions=[]},e.collisions=function(n){var f=n.pairs,i=n.bodies,d=i.length,s=e.canCollide,t=o.collides,r=n.collisions,a=0,c,m;for(i.sort(e._compareBoundsX),c=0;c<d;c++){var y=i[c],P=y.bounds,L=y.bounds.max.x,h=y.bounds.max.y,x=y.bounds.min.y,w=y.isStatic||y.isSleeping,g=y.parts.length,E=g===1;for(m=c+1;m<d;m++){var C=i[m],R=C.bounds;if(R.min.x>L)break;if(!(h<R.min.y||x>R.max.y)&&!(w&&(C.isStatic||C.isSleeping))&&s(y.collisionFilter,C.collisionFilter)){var I=C.parts.length;if(E&&I===1){var A=t(y,C,f);A&&(r[a++]=A)}else for(var k=g>1?1:0,T=I>1?1:0,F=k;F<g;F++)for(var D=y.parts[F],P=D.bounds,O=T;O<I;O++){var V=C.parts[O],R=V.bounds;if(!(P.min.x>R.max.x||P.max.x<R.min.x||P.max.y<R.min.y||P.min.y>R.max.y)){var A=t(D,V,f);A&&(r[a++]=A)}}}}}return r.length!==a&&(r.length=a),r},e.canCollide=function(n,f){return n.group===f.group&&n.group!==0?n.group>0:(n.mask&f.category)!==0&&(f.mask&n.category)!==0},e._compareBoundsX=function(n,f){return n.bounds.min.x-f.bounds.min.x}})()},function(v,M,u){var e={};v.exports=e;var l=u(0);(function(){e.create=function(o){var n={};return o||l.log("Mouse.create: element was undefined, defaulting to document.body","warn"),n.element=o||document.body,n.absolute={x:0,y:0},n.position={x:0,y:0},n.mousedownPosition={x:0,y:0},n.mouseupPosition={x:0,y:0},n.offset={x:0,y:0},n.scale={x:1,y:1},n.wheelDelta=0,n.button=-1,n.pixelRatio=parseInt(n.element.getAttribute("data-pixel-ratio"),10)||1,n.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null},n.mousemove=function(f){var i=e._getRelativeMousePosition(f,n.element,n.pixelRatio),d=f.changedTouches;d&&(n.button=0,f.preventDefault()),n.absolute.x=i.x,n.absolute.y=i.y,n.position.x=n.absolute.x*n.scale.x+n.offset.x,n.position.y=n.absolute.y*n.scale.y+n.offset.y,n.sourceEvents.mousemove=f},n.mousedown=function(f){var i=e._getRelativeMousePosition(f,n.element,n.pixelRatio),d=f.changedTouches;d?(n.button=0,f.preventDefault()):n.button=f.button,n.absolute.x=i.x,n.absolute.y=i.y,n.position.x=n.absolute.x*n.scale.x+n.offset.x,n.position.y=n.absolute.y*n.scale.y+n.offset.y,n.mousedownPosition.x=n.position.x,n.mousedownPosition.y=n.position.y,n.sourceEvents.mousedown=f},n.mouseup=function(f){var i=e._getRelativeMousePosition(f,n.element,n.pixelRatio),d=f.changedTouches;d&&f.preventDefault(),n.button=-1,n.absolute.x=i.x,n.absolute.y=i.y,n.position.x=n.absolute.x*n.scale.x+n.offset.x,n.position.y=n.absolute.y*n.scale.y+n.offset.y,n.mouseupPosition.x=n.position.x,n.mouseupPosition.y=n.position.y,n.sourceEvents.mouseup=f},n.mousewheel=function(f){n.wheelDelta=Math.max(-1,Math.min(1,f.wheelDelta||-f.detail)),f.preventDefault(),n.sourceEvents.mousewheel=f},e.setElement(n,n.element),n},e.setElement=function(o,n){o.element=n,n.addEventListener("mousemove",o.mousemove,{passive:!0}),n.addEventListener("mousedown",o.mousedown,{passive:!0}),n.addEventListener("mouseup",o.mouseup,{passive:!0}),n.addEventListener("wheel",o.mousewheel,{passive:!1}),n.addEventListener("touchmove",o.mousemove,{passive:!1}),n.addEventListener("touchstart",o.mousedown,{passive:!1}),n.addEventListener("touchend",o.mouseup,{passive:!1})},e.clearSourceEvents=function(o){o.sourceEvents.mousemove=null,o.sourceEvents.mousedown=null,o.sourceEvents.mouseup=null,o.sourceEvents.mousewheel=null,o.wheelDelta=0},e.setOffset=function(o,n){o.offset.x=n.x,o.offset.y=n.y,o.position.x=o.absolute.x*o.scale.x+o.offset.x,o.position.y=o.absolute.y*o.scale.y+o.offset.y},e.setScale=function(o,n){o.scale.x=n.x,o.scale.y=n.y,o.position.x=o.absolute.x*o.scale.x+o.offset.x,o.position.y=o.absolute.y*o.scale.y+o.offset.y},e._getRelativeMousePosition=function(o,n,f){var i=n.getBoundingClientRect(),d=document.documentElement||document.body.parentNode||document.body,s=window.pageXOffset!==void 0?window.pageXOffset:d.scrollLeft,t=window.pageYOffset!==void 0?window.pageYOffset:d.scrollTop,r=o.changedTouches,a,c;return r?(a=r[0].pageX-i.left-s,c=r[0].pageY-i.top-t):(a=o.pageX-i.left-s,c=o.pageY-i.top-t),{x:a/(n.clientWidth/(n.width||n.clientWidth)*f),y:c/(n.clientHeight/(n.height||n.clientHeight)*f)}}})()},function(v,M,u){var e={};v.exports=e;var l=u(0);(function(){e._registry={},e.register=function(o){if(e.isPlugin(o)||l.warn("Plugin.register:",e.toString(o),"does not implement all required fields."),o.name in e._registry){var n=e._registry[o.name],f=e.versionParse(o.version).number,i=e.versionParse(n.version).number;f>i?(l.warn("Plugin.register:",e.toString(n),"was upgraded to",e.toString(o)),e._registry[o.name]=o):f<i?l.warn("Plugin.register:",e.toString(n),"can not be downgraded to",e.toString(o)):o!==n&&l.warn("Plugin.register:",e.toString(o),"is already registered to different plugin object")}else e._registry[o.name]=o;return o},e.resolve=function(o){return e._registry[e.dependencyParse(o).name]},e.toString=function(o){return typeof o=="string"?o:(o.name||"anonymous")+"@"+(o.version||o.range||"0.0.0")},e.isPlugin=function(o){return o&&o.name&&o.version&&o.install},e.isUsed=function(o,n){return o.used.indexOf(n)>-1},e.isFor=function(o,n){var f=o.for&&e.dependencyParse(o.for);return!o.for||n.name===f.name&&e.versionSatisfies(n.version,f.range)},e.use=function(o,n){if(o.uses=(o.uses||[]).concat(n||[]),o.uses.length===0){l.warn("Plugin.use:",e.toString(o),"does not specify any dependencies to install.");return}for(var f=e.dependencies(o),i=l.topologicalSort(f),d=[],s=0;s<i.length;s+=1)if(i[s]!==o.name){var t=e.resolve(i[s]);if(!t){d.push("❌ "+i[s]);continue}e.isUsed(o,t.name)||(e.isFor(t,o)||(l.warn("Plugin.use:",e.toString(t),"is for",t.for,"but installed on",e.toString(o)+"."),t._warned=!0),t.install?t.install(o):(l.warn("Plugin.use:",e.toString(t),"does not specify an install function."),t._warned=!0),t._warned?(d.push("🔶 "+e.toString(t)),delete t._warned):d.push("✅ "+e.toString(t)),o.used.push(t.name))}d.length>0&&l.info(d.join("  "))},e.dependencies=function(o,n){var f=e.dependencyParse(o),i=f.name;if(n=n||{},!(i in n)){o=e.resolve(o)||o,n[i]=l.map(o.uses||[],function(s){e.isPlugin(s)&&e.register(s);var t=e.dependencyParse(s),r=e.resolve(s);return r&&!e.versionSatisfies(r.version,t.range)?(l.warn("Plugin.dependencies:",e.toString(r),"does not satisfy",e.toString(t),"used by",e.toString(f)+"."),r._warned=!0,o._warned=!0):r||(l.warn("Plugin.dependencies:",e.toString(s),"used by",e.toString(f),"could not be resolved."),o._warned=!0),t.name});for(var d=0;d<n[i].length;d+=1)e.dependencies(n[i][d],n);return n}},e.dependencyParse=function(o){if(l.isString(o)){var n=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return n.test(o)||l.warn("Plugin.dependencyParse:",o,"is not a valid dependency string."),{name:o.split("@")[0],range:o.split("@")[1]||"*"}}return{name:o.name,range:o.range||o.version}},e.versionParse=function(o){var n=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;n.test(o)||l.warn("Plugin.versionParse:",o,"is not a valid version or range.");var f=n.exec(o),i=Number(f[4]),d=Number(f[5]),s=Number(f[6]);return{isRange:!!(f[1]||f[2]),version:f[3],range:o,operator:f[1]||f[2]||"",major:i,minor:d,patch:s,parts:[i,d,s],prerelease:f[7],number:i*1e8+d*1e4+s}},e.versionSatisfies=function(o,n){n=n||"*";var f=e.versionParse(n),i=e.versionParse(o);if(f.isRange){if(f.operator==="*"||o==="*")return!0;if(f.operator===">")return i.number>f.number;if(f.operator===">=")return i.number>=f.number;if(f.operator==="~")return i.major===f.major&&i.minor===f.minor&&i.patch>=f.patch;if(f.operator==="^")return f.major>0?i.major===f.major&&i.number>=f.number:f.minor>0?i.minor===f.minor&&i.patch>=f.patch:i.patch===f.patch}return o===n||o==="*"}})()},function(v,M){var u={};v.exports=u,function(){u.create=function(e){return{vertex:e,normalImpulse:0,tangentImpulse:0}}}()},function(v,M,u){var e={};v.exports=e;var l=u(7),o=u(18),n=u(13),f=u(19),i=u(5),d=u(6),s=u(10),t=u(0),r=u(4);(function(){e._deltaMax=1e3/60,e.create=function(a){a=a||{};var c={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},m=t.extend(c,a);return m.world=a.world||d.create({label:"World"}),m.pairs=a.pairs||f.create(),m.detector=a.detector||n.create(),m.detector.pairs=m.pairs,m.grid={buckets:[]},m.world.gravity=m.gravity,m.broadphase=m.grid,m.metrics={},m},e.update=function(a,c){var m=t.now(),y=a.world,P=a.detector,L=a.pairs,h=a.timing,x=h.timestamp,w;c>e._deltaMax&&t.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",e._deltaMax.toFixed(3),"ms."),c=typeof c<"u"?c:t._baseDelta,c*=h.timeScale,h.timestamp+=c,h.lastDelta=c;var g={timestamp:h.timestamp,delta:c};i.trigger(a,"beforeUpdate",g);var E=d.allBodies(y),C=d.allConstraints(y);for(y.isModified&&(n.setBodies(P,E),d.setModified(y,!1,!1,!0)),a.enableSleeping&&l.update(E,c),e._bodiesApplyGravity(E,a.gravity),c>0&&e._bodiesUpdate(E,c),i.trigger(a,"beforeSolve",g),s.preSolveAll(E),w=0;w<a.constraintIterations;w++)s.solveAll(C,c);s.postSolveAll(E);var R=n.collisions(P);f.update(L,R,x),a.enableSleeping&&l.afterCollisions(L.list),L.collisionStart.length>0&&i.trigger(a,"collisionStart",{pairs:L.collisionStart,timestamp:h.timestamp,delta:c});var I=t.clamp(20/a.positionIterations,0,1);for(o.preSolvePosition(L.list),w=0;w<a.positionIterations;w++)o.solvePosition(L.list,c,I);for(o.postSolvePosition(E),s.preSolveAll(E),w=0;w<a.constraintIterations;w++)s.solveAll(C,c);for(s.postSolveAll(E),o.preSolveVelocity(L.list),w=0;w<a.velocityIterations;w++)o.solveVelocity(L.list,c);return e._bodiesUpdateVelocities(E),L.collisionActive.length>0&&i.trigger(a,"collisionActive",{pairs:L.collisionActive,timestamp:h.timestamp,delta:c}),L.collisionEnd.length>0&&i.trigger(a,"collisionEnd",{pairs:L.collisionEnd,timestamp:h.timestamp,delta:c}),e._bodiesClearForces(E),i.trigger(a,"afterUpdate",g),a.timing.lastElapsed=t.now()-m,a},e.merge=function(a,c){if(t.extend(a,c),c.world){a.world=c.world,e.clear(a);for(var m=d.allBodies(a.world),y=0;y<m.length;y++){var P=m[y];l.set(P,!1),P.id=t.nextId()}}},e.clear=function(a){f.clear(a.pairs),n.clear(a.detector)},e._bodiesClearForces=function(a){for(var c=a.length,m=0;m<c;m++){var y=a[m];y.force.x=0,y.force.y=0,y.torque=0}},e._bodiesApplyGravity=function(a,c){var m=typeof c.scale<"u"?c.scale:.001,y=a.length;if(!(c.x===0&&c.y===0||m===0))for(var P=0;P<y;P++){var L=a[P];L.isStatic||L.isSleeping||(L.force.y+=L.mass*c.y*m,L.force.x+=L.mass*c.x*m)}},e._bodiesUpdate=function(a,c){for(var m=a.length,y=0;y<m;y++){var P=a[y];P.isStatic||P.isSleeping||r.update(P,c)}},e._bodiesUpdateVelocities=function(a){for(var c=a.length,m=0;m<c;m++)r.updateVelocities(a[m])}})()},function(v,M,u){var e={};v.exports=e;var l=u(3),o=u(0),n=u(1);(function(){e._restingThresh=2,e._restingThreshTangent=Math.sqrt(6),e._positionDampen=.9,e._positionWarming=.8,e._frictionNormalMultiplier=5,e._frictionMaxStatic=Number.MAX_VALUE,e.preSolvePosition=function(f){var i,d,s,t=f.length;for(i=0;i<t;i++)d=f[i],d.isActive&&(s=d.contactCount,d.collision.parentA.totalContacts+=s,d.collision.parentB.totalContacts+=s)},e.solvePosition=function(f,i,d){var s,t,r,a,c,m,y,P,L=e._positionDampen*(d||1),h=o.clamp(i/o._baseDelta,0,1),x=f.length;for(s=0;s<x;s++)t=f[s],!(!t.isActive||t.isSensor)&&(r=t.collision,a=r.parentA,c=r.parentB,m=r.normal,t.separation=r.depth+m.x*(c.positionImpulse.x-a.positionImpulse.x)+m.y*(c.positionImpulse.y-a.positionImpulse.y));for(s=0;s<x;s++)t=f[s],!(!t.isActive||t.isSensor)&&(r=t.collision,a=r.parentA,c=r.parentB,m=r.normal,P=t.separation-t.slop*h,(a.isStatic||c.isStatic)&&(P*=2),a.isStatic||a.isSleeping||(y=L/a.totalContacts,a.positionImpulse.x+=m.x*P*y,a.positionImpulse.y+=m.y*P*y),c.isStatic||c.isSleeping||(y=L/c.totalContacts,c.positionImpulse.x-=m.x*P*y,c.positionImpulse.y-=m.y*P*y))},e.postSolvePosition=function(f){for(var i=e._positionWarming,d=f.length,s=l.translate,t=n.update,r=0;r<d;r++){var a=f[r],c=a.positionImpulse,m=c.x,y=c.y,P=a.velocity;if(a.totalContacts=0,m!==0||y!==0){for(var L=0;L<a.parts.length;L++){var h=a.parts[L];s(h.vertices,c),t(h.bounds,h.vertices,P),h.position.x+=m,h.position.y+=y}a.positionPrev.x+=m,a.positionPrev.y+=y,m*P.x+y*P.y<0?(c.x=0,c.y=0):(c.x*=i,c.y*=i)}}},e.preSolveVelocity=function(f){var i=f.length,d,s;for(d=0;d<i;d++){var t=f[d];if(!(!t.isActive||t.isSensor)){var r=t.contacts,a=t.contactCount,c=t.collision,m=c.parentA,y=c.parentB,P=c.normal,L=c.tangent;for(s=0;s<a;s++){var h=r[s],x=h.vertex,w=h.normalImpulse,g=h.tangentImpulse;if(w!==0||g!==0){var E=P.x*w+L.x*g,C=P.y*w+L.y*g;m.isStatic||m.isSleeping||(m.positionPrev.x+=E*m.inverseMass,m.positionPrev.y+=C*m.inverseMass,m.anglePrev+=m.inverseInertia*((x.x-m.position.x)*C-(x.y-m.position.y)*E)),y.isStatic||y.isSleeping||(y.positionPrev.x-=E*y.inverseMass,y.positionPrev.y-=C*y.inverseMass,y.anglePrev-=y.inverseInertia*((x.x-y.position.x)*C-(x.y-y.position.y)*E))}}}}},e.solveVelocity=function(f,i){var d=i/o._baseDelta,s=d*d,t=s*d,r=-e._restingThresh*d,a=e._restingThreshTangent,c=e._frictionNormalMultiplier*d,m=e._frictionMaxStatic,y=f.length,P,L,h,x;for(h=0;h<y;h++){var w=f[h];if(!(!w.isActive||w.isSensor)){var g=w.collision,E=g.parentA,C=g.parentB,R=g.normal.x,I=g.normal.y,A=g.tangent.x,k=g.tangent.y,T=w.inverseMass,F=w.friction*w.frictionStatic*c,D=w.contacts,O=w.contactCount,V=1/O,U=E.position.x-E.positionPrev.x,N=E.position.y-E.positionPrev.y,W=E.angle-E.anglePrev,H=C.position.x-C.positionPrev.x,X=C.position.y-C.positionPrev.y,Y=C.angle-C.anglePrev;for(x=0;x<O;x++){var $=D[x],Z=$.vertex,K=Z.x-E.position.x,G=Z.y-E.position.y,z=Z.x-C.position.x,Q=Z.y-C.position.y,J=U-G*W,Le=N+K*W,yt=H-Q*Y,wt=X+z*Y,We=J-yt,Ue=Le-wt,Ie=R*We+I*Ue,ee=A*We+k*Ue,Ne=w.separation+Ie,Ae=Math.min(Ne,1);Ae=Ne<0?0:Ae;var ze=Ae*F;ee<-ze||ee>ze?(L=ee>0?ee:-ee,P=w.friction*(ee>0?1:-1)*t,P<-L?P=-L:P>L&&(P=L)):(P=ee,L=m);var je=K*I-G*R,Ge=z*I-Q*R,Ye=V/(T+E.inverseInertia*je*je+C.inverseInertia*Ge*Ge),pe=(1+w.restitution)*Ie*Ye;if(P*=Ye,Ie<r)$.normalImpulse=0;else{var St=$.normalImpulse;$.normalImpulse+=pe,$.normalImpulse>0&&($.normalImpulse=0),pe=$.normalImpulse-St}if(ee<-a||ee>a)$.tangentImpulse=0;else{var Ct=$.tangentImpulse;$.tangentImpulse+=P,$.tangentImpulse<-L&&($.tangentImpulse=-L),$.tangentImpulse>L&&($.tangentImpulse=L),P=$.tangentImpulse-Ct}var me=R*pe+A*P,ve=I*pe+k*P;E.isStatic||E.isSleeping||(E.positionPrev.x+=me*E.inverseMass,E.positionPrev.y+=ve*E.inverseMass,E.anglePrev+=(K*ve-G*me)*E.inverseInertia),C.isStatic||C.isSleeping||(C.positionPrev.x-=me*C.inverseMass,C.positionPrev.y-=ve*C.inverseMass,C.anglePrev-=(z*ve-Q*me)*C.inverseInertia)}}}}})()},function(v,M,u){var e={};v.exports=e;var l=u(9),o=u(0);(function(){e.create=function(n){return o.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},n)},e.update=function(n,f,i){var d=l.update,s=l.create,t=l.setActive,r=n.table,a=n.list,c=a.length,m=c,y=n.collisionStart,P=n.collisionEnd,L=n.collisionActive,h=f.length,x=0,w=0,g=0,E,C,R;for(R=0;R<h;R++)E=f[R],C=E.pair,C?(C.isActive&&(L[g++]=C),d(C,E,i)):(C=s(E,i),r[C.id]=C,y[x++]=C,a[m++]=C);for(m=0,c=a.length,R=0;R<c;R++)C=a[R],C.timeUpdated>=i?a[m++]=C:(t(C,!1,i),C.collision.bodyA.sleepCounter>0&&C.collision.bodyB.sleepCounter>0?a[m++]=C:(P[w++]=C,delete r[C.id]));a.length!==m&&(a.length=m),y.length!==x&&(y.length=x),P.length!==w&&(P.length=w),L.length!==g&&(L.length=g)},e.clear=function(n){return n.table={},n.list.length=0,n.collisionStart.length=0,n.collisionActive.length=0,n.collisionEnd.length=0,n}})()},function(v,M,u){var e=v.exports=u(21);e.Axes=u(11),e.Bodies=u(12),e.Body=u(4),e.Bounds=u(1),e.Collision=u(8),e.Common=u(0),e.Composite=u(6),e.Composites=u(22),e.Constraint=u(10),e.Contact=u(16),e.Detector=u(13),e.Engine=u(17),e.Events=u(5),e.Grid=u(23),e.Mouse=u(14),e.MouseConstraint=u(24),e.Pair=u(9),e.Pairs=u(19),e.Plugin=u(15),e.Query=u(25),e.Render=u(26),e.Resolver=u(18),e.Runner=u(27),e.SAT=u(28),e.Sleeping=u(7),e.Svg=u(29),e.Vector=u(2),e.Vertices=u(3),e.World=u(30),e.Engine.run=e.Runner.run,e.Common.deprecated(e.Engine,"run","Engine.run ➤ use Matter.Runner.run(engine) instead")},function(v,M,u){var e={};v.exports=e;var l=u(15),o=u(0);(function(){e.name="matter-js",e.version="0.20.0",e.uses=[],e.used=[],e.use=function(){l.use(e,Array.prototype.slice.call(arguments))},e.before=function(n,f){return n=n.replace(/^Matter./,""),o.chainPathBefore(e,n,f)},e.after=function(n,f){return n=n.replace(/^Matter./,""),o.chainPathAfter(e,n,f)}})()},function(v,M,u){var e={};v.exports=e;var l=u(6),o=u(10),n=u(0),f=u(4),i=u(12),d=n.deprecated;(function(){e.stack=function(s,t,r,a,c,m,y){for(var P=l.create({label:"Stack"}),L=s,h=t,x,w=0,g=0;g<a;g++){for(var E=0,C=0;C<r;C++){var R=y(L,h,C,g,x,w);if(R){var I=R.bounds.max.y-R.bounds.min.y,A=R.bounds.max.x-R.bounds.min.x;I>E&&(E=I),f.translate(R,{x:A*.5,y:I*.5}),L=R.bounds.max.x+c,l.addBody(P,R),x=R,w+=1}else L+=c}h+=E+m,L=s}return P},e.chain=function(s,t,r,a,c,m){for(var y=s.bodies,P=1;P<y.length;P++){var L=y[P-1],h=y[P],x=L.bounds.max.y-L.bounds.min.y,w=L.bounds.max.x-L.bounds.min.x,g=h.bounds.max.y-h.bounds.min.y,E=h.bounds.max.x-h.bounds.min.x,C={bodyA:L,pointA:{x:w*t,y:x*r},bodyB:h,pointB:{x:E*a,y:g*c}},R=n.extend(C,m);l.addConstraint(s,o.create(R))}return s.label+=" Chain",s},e.mesh=function(s,t,r,a,c){var m=s.bodies,y,P,L,h,x;for(y=0;y<r;y++){for(P=1;P<t;P++)L=m[P-1+y*t],h=m[P+y*t],l.addConstraint(s,o.create(n.extend({bodyA:L,bodyB:h},c)));if(y>0)for(P=0;P<t;P++)L=m[P+(y-1)*t],h=m[P+y*t],l.addConstraint(s,o.create(n.extend({bodyA:L,bodyB:h},c))),a&&P>0&&(x=m[P-1+(y-1)*t],l.addConstraint(s,o.create(n.extend({bodyA:x,bodyB:h},c)))),a&&P<t-1&&(x=m[P+1+(y-1)*t],l.addConstraint(s,o.create(n.extend({bodyA:x,bodyB:h},c))))}return s.label+=" Mesh",s},e.pyramid=function(s,t,r,a,c,m,y){return e.stack(s,t,r,a,c,m,function(P,L,h,x,w,g){var E=Math.min(a,Math.ceil(r/2)),C=w?w.bounds.max.x-w.bounds.min.x:0;if(!(x>E)){x=E-x;var R=x,I=r-1-x;if(!(h<R||h>I)){g===1&&f.translate(w,{x:(h+(r%2===1?1:-1))*C,y:0});var A=w?h*C:0;return y(s+A+h*c,L,h,x,w,g)}}})},e.newtonsCradle=function(s,t,r,a,c){for(var m=l.create({label:"Newtons Cradle"}),y=0;y<r;y++){var P=1.9,L=i.circle(s+y*(a*P),t+c,a,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),h=o.create({pointA:{x:s+y*(a*P),y:t},bodyB:L});l.addBody(m,L),l.addConstraint(m,h)}return m},d(e,"newtonsCradle","Composites.newtonsCradle ➤ moved to newtonsCradle example"),e.car=function(s,t,r,a,c){var m=f.nextGroup(!0),y=20,P=-r*.5+y,L=r*.5-y,h=0,x=l.create({label:"Car"}),w=i.rectangle(s,t,r,a,{collisionFilter:{group:m},chamfer:{radius:a*.5},density:2e-4}),g=i.circle(s+P,t+h,c,{collisionFilter:{group:m},friction:.8}),E=i.circle(s+L,t+h,c,{collisionFilter:{group:m},friction:.8}),C=o.create({bodyB:w,pointB:{x:P,y:h},bodyA:g,stiffness:1,length:0}),R=o.create({bodyB:w,pointB:{x:L,y:h},bodyA:E,stiffness:1,length:0});return l.addBody(x,w),l.addBody(x,g),l.addBody(x,E),l.addConstraint(x,C),l.addConstraint(x,R),x},d(e,"car","Composites.car ➤ moved to car example"),e.softBody=function(s,t,r,a,c,m,y,P,L,h){L=n.extend({inertia:1/0},L),h=n.extend({stiffness:.2,render:{type:"line",anchors:!1}},h);var x=e.stack(s,t,r,a,c,m,function(w,g){return i.circle(w,g,P,L)});return e.mesh(x,r,a,y,h),x.label="Soft Body",x},d(e,"softBody","Composites.softBody ➤ moved to softBody and cloth examples")})()},function(v,M,u){var e={};v.exports=e;var l=u(9),o=u(0),n=o.deprecated;(function(){e.create=function(f){var i={buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return o.extend(i,f)},e.update=function(f,i,d,s){var t,r,a,c=d.world,m=f.buckets,y,P,L=!1;for(t=0;t<i.length;t++){var h=i[t];if(!(h.isSleeping&&!s)&&!(c.bounds&&(h.bounds.max.x<c.bounds.min.x||h.bounds.min.x>c.bounds.max.x||h.bounds.max.y<c.bounds.min.y||h.bounds.min.y>c.bounds.max.y))){var x=e._getRegion(f,h);if(!h.region||x.id!==h.region.id||s){(!h.region||s)&&(h.region=x);var w=e._regionUnion(x,h.region);for(r=w.startCol;r<=w.endCol;r++)for(a=w.startRow;a<=w.endRow;a++){P=e._getBucketId(r,a),y=m[P];var g=r>=x.startCol&&r<=x.endCol&&a>=x.startRow&&a<=x.endRow,E=r>=h.region.startCol&&r<=h.region.endCol&&a>=h.region.startRow&&a<=h.region.endRow;!g&&E&&E&&y&&e._bucketRemoveBody(f,y,h),(h.region===x||g&&!E||s)&&(y||(y=e._createBucket(m,P)),e._bucketAddBody(f,y,h))}h.region=x,L=!0}}}L&&(f.pairsList=e._createActivePairsList(f))},n(e,"update","Grid.update ➤ replaced by Matter.Detector"),e.clear=function(f){f.buckets={},f.pairs={},f.pairsList=[]},n(e,"clear","Grid.clear ➤ replaced by Matter.Detector"),e._regionUnion=function(f,i){var d=Math.min(f.startCol,i.startCol),s=Math.max(f.endCol,i.endCol),t=Math.min(f.startRow,i.startRow),r=Math.max(f.endRow,i.endRow);return e._createRegion(d,s,t,r)},e._getRegion=function(f,i){var d=i.bounds,s=Math.floor(d.min.x/f.bucketWidth),t=Math.floor(d.max.x/f.bucketWidth),r=Math.floor(d.min.y/f.bucketHeight),a=Math.floor(d.max.y/f.bucketHeight);return e._createRegion(s,t,r,a)},e._createRegion=function(f,i,d,s){return{id:f+","+i+","+d+","+s,startCol:f,endCol:i,startRow:d,endRow:s}},e._getBucketId=function(f,i){return"C"+f+"R"+i},e._createBucket=function(f,i){var d=f[i]=[];return d},e._bucketAddBody=function(f,i,d){var s=f.pairs,t=l.id,r=i.length,a;for(a=0;a<r;a++){var c=i[a];if(!(d.id===c.id||d.isStatic&&c.isStatic)){var m=t(d,c),y=s[m];y?y[2]+=1:s[m]=[d,c,1]}}i.push(d)},e._bucketRemoveBody=function(f,i,d){var s=f.pairs,t=l.id,r;i.splice(o.indexOf(i,d),1);var a=i.length;for(r=0;r<a;r++){var c=s[t(d,i[r])];c&&(c[2]-=1)}},e._createActivePairsList=function(f){var i,d=f.pairs,s=o.keys(d),t=s.length,r=[],a;for(a=0;a<t;a++)i=d[s[a]],i[2]>0?r.push(i):delete d[s[a]];return r}})()},function(v,M,u){var e={};v.exports=e;var l=u(3),o=u(7),n=u(14),f=u(5),i=u(13),d=u(10),s=u(6),t=u(0),r=u(1);(function(){e.create=function(a,c){var m=(a?a.mouse:null)||(c?c.mouse:null);m||(a&&a.render&&a.render.canvas?m=n.create(a.render.canvas):c&&c.element?m=n.create(c.element):(m=n.create(),t.warn("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected")));var y=d.create({label:"Mouse Constraint",pointA:m.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),P={type:"mouseConstraint",mouse:m,element:null,body:null,constraint:y,collisionFilter:{category:1,mask:4294967295,group:0}},L=t.extend(P,c);return f.on(a,"beforeUpdate",function(){var h=s.allBodies(a.world);e.update(L,h),e._triggerEvents(L)}),L},e.update=function(a,c){var m=a.mouse,y=a.constraint,P=a.body;if(m.button===0){if(y.bodyB)o.set(y.bodyB,!1),y.pointA=m.position;else for(var L=0;L<c.length;L++)if(P=c[L],r.contains(P.bounds,m.position)&&i.canCollide(P.collisionFilter,a.collisionFilter))for(var h=P.parts.length>1?1:0;h<P.parts.length;h++){var x=P.parts[h];if(l.contains(x.vertices,m.position)){y.pointA=m.position,y.bodyB=a.body=P,y.pointB={x:m.position.x-P.position.x,y:m.position.y-P.position.y},y.angleB=P.angle,o.set(P,!1),f.trigger(a,"startdrag",{mouse:m,body:P});break}}}else y.bodyB=a.body=null,y.pointB=null,P&&f.trigger(a,"enddrag",{mouse:m,body:P})},e._triggerEvents=function(a){var c=a.mouse,m=c.sourceEvents;m.mousemove&&f.trigger(a,"mousemove",{mouse:c}),m.mousedown&&f.trigger(a,"mousedown",{mouse:c}),m.mouseup&&f.trigger(a,"mouseup",{mouse:c}),n.clearSourceEvents(c)}})()},function(v,M,u){var e={};v.exports=e;var l=u(2),o=u(8),n=u(1),f=u(12),i=u(3);(function(){e.collides=function(d,s){for(var t=[],r=s.length,a=d.bounds,c=o.collides,m=n.overlaps,y=0;y<r;y++){var P=s[y],L=P.parts.length,h=L===1?0:1;if(m(P.bounds,a))for(var x=h;x<L;x++){var w=P.parts[x];if(m(w.bounds,a)){var g=c(w,d);if(g){t.push(g);break}}}}return t},e.ray=function(d,s,t,r){r=r||1e-100;for(var a=l.angle(s,t),c=l.magnitude(l.sub(s,t)),m=(t.x+s.x)*.5,y=(t.y+s.y)*.5,P=f.rectangle(m,y,c,r,{angle:a}),L=e.collides(P,d),h=0;h<L.length;h+=1){var x=L[h];x.body=x.bodyB=x.bodyA}return L},e.region=function(d,s,t){for(var r=[],a=0;a<d.length;a++){var c=d[a],m=n.overlaps(c.bounds,s);(m&&!t||!m&&t)&&r.push(c)}return r},e.point=function(d,s){for(var t=[],r=0;r<d.length;r++){var a=d[r];if(n.contains(a.bounds,s))for(var c=a.parts.length===1?0:1;c<a.parts.length;c++){var m=a.parts[c];if(n.contains(m.bounds,s)&&i.contains(m.vertices,s)){t.push(a);break}}}return t}})()},function(v,M,u){var e={};v.exports=e;var l=u(4),o=u(0),n=u(6),f=u(1),i=u(5),d=u(2),s=u(14);(function(){var t,r;typeof window<"u"&&(t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(h){window.setTimeout(function(){h(o.now())},1e3/60)},r=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),e._goodFps=30,e._goodDelta=1e3/60,e.create=function(h){var x={engine:null,element:null,canvas:null,mouse:null,frameRequestId:null,timing:{historySize:60,delta:0,deltaHistory:[],lastTime:0,lastTimestamp:0,lastElapsed:0,timestampElapsed:0,timestampElapsedHistory:[],engineDeltaHistory:[],engineElapsedHistory:[],engineUpdatesHistory:[],elapsedHistory:[]},options:{width:800,height:600,pixelRatio:1,background:"#14151f",wireframeBackground:"#14151f",wireframeStrokeStyle:"#bbb",hasBounds:!!h.bounds,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showStats:!1,showPerformance:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1,showMousePosition:!1}},w=o.extend(x,h);return w.canvas&&(w.canvas.width=w.options.width||w.canvas.width,w.canvas.height=w.options.height||w.canvas.height),w.mouse=h.mouse,w.engine=h.engine,w.canvas=w.canvas||m(w.options.width,w.options.height),w.context=w.canvas.getContext("2d"),w.textures={},w.bounds=w.bounds||{min:{x:0,y:0},max:{x:w.canvas.width,y:w.canvas.height}},w.controller=e,w.options.showBroadphase=!1,w.options.pixelRatio!==1&&e.setPixelRatio(w,w.options.pixelRatio),o.isElement(w.element)&&w.element.appendChild(w.canvas),w},e.run=function(h){(function x(w){h.frameRequestId=t(x),a(h,w),e.world(h,w),h.context.setTransform(h.options.pixelRatio,0,0,h.options.pixelRatio,0,0),(h.options.showStats||h.options.showDebug)&&e.stats(h,h.context,w),(h.options.showPerformance||h.options.showDebug)&&e.performance(h,h.context,w),h.context.setTransform(1,0,0,1,0,0)})()},e.stop=function(h){r(h.frameRequestId)},e.setPixelRatio=function(h,x){var w=h.options,g=h.canvas;x==="auto"&&(x=y(g)),w.pixelRatio=x,g.setAttribute("data-pixel-ratio",x),g.width=w.width*x,g.height=w.height*x,g.style.width=w.width+"px",g.style.height=w.height+"px"},e.setSize=function(h,x,w){h.options.width=x,h.options.height=w,h.bounds.max.x=h.bounds.min.x+x,h.bounds.max.y=h.bounds.min.y+w,h.options.pixelRatio!==1?e.setPixelRatio(h,h.options.pixelRatio):(h.canvas.width=x,h.canvas.height=w)},e.lookAt=function(h,x,w,g){g=typeof g<"u"?g:!0,x=o.isArray(x)?x:[x],w=w||{x:0,y:0};for(var E={min:{x:1/0,y:1/0},max:{x:-1/0,y:-1/0}},C=0;C<x.length;C+=1){var R=x[C],I=R.bounds?R.bounds.min:R.min||R.position||R,A=R.bounds?R.bounds.max:R.max||R.position||R;I&&A&&(I.x<E.min.x&&(E.min.x=I.x),A.x>E.max.x&&(E.max.x=A.x),I.y<E.min.y&&(E.min.y=I.y),A.y>E.max.y&&(E.max.y=A.y))}var k=E.max.x-E.min.x+2*w.x,T=E.max.y-E.min.y+2*w.y,F=h.canvas.height,D=h.canvas.width,O=D/F,V=k/T,U=1,N=1;V>O?N=V/O:U=O/V,h.options.hasBounds=!0,h.bounds.min.x=E.min.x,h.bounds.max.x=E.min.x+k*U,h.bounds.min.y=E.min.y,h.bounds.max.y=E.min.y+T*N,g&&(h.bounds.min.x+=k*.5-k*U*.5,h.bounds.max.x+=k*.5-k*U*.5,h.bounds.min.y+=T*.5-T*N*.5,h.bounds.max.y+=T*.5-T*N*.5),h.bounds.min.x-=w.x,h.bounds.max.x-=w.x,h.bounds.min.y-=w.y,h.bounds.max.y-=w.y,h.mouse&&(s.setScale(h.mouse,{x:(h.bounds.max.x-h.bounds.min.x)/h.canvas.width,y:(h.bounds.max.y-h.bounds.min.y)/h.canvas.height}),s.setOffset(h.mouse,h.bounds.min))},e.startViewTransform=function(h){var x=h.bounds.max.x-h.bounds.min.x,w=h.bounds.max.y-h.bounds.min.y,g=x/h.options.width,E=w/h.options.height;h.context.setTransform(h.options.pixelRatio/g,0,0,h.options.pixelRatio/E,0,0),h.context.translate(-h.bounds.min.x,-h.bounds.min.y)},e.endViewTransform=function(h){h.context.setTransform(h.options.pixelRatio,0,0,h.options.pixelRatio,0,0)},e.world=function(h,x){var w=o.now(),g=h.engine,E=g.world,C=h.canvas,R=h.context,I=h.options,A=h.timing,k=n.allBodies(E),T=n.allConstraints(E),F=I.wireframes?I.wireframeBackground:I.background,D=[],O=[],V,U={timestamp:g.timing.timestamp};if(i.trigger(h,"beforeRender",U),h.currentBackground!==F&&L(h,F),R.globalCompositeOperation="source-in",R.fillStyle="transparent",R.fillRect(0,0,C.width,C.height),R.globalCompositeOperation="source-over",I.hasBounds){for(V=0;V<k.length;V++){var N=k[V];f.overlaps(N.bounds,h.bounds)&&D.push(N)}for(V=0;V<T.length;V++){var W=T[V],H=W.bodyA,X=W.bodyB,Y=W.pointA,$=W.pointB;H&&(Y=d.add(H.position,W.pointA)),X&&($=d.add(X.position,W.pointB)),!(!Y||!$)&&(f.contains(h.bounds,Y)||f.contains(h.bounds,$))&&O.push(W)}e.startViewTransform(h),h.mouse&&(s.setScale(h.mouse,{x:(h.bounds.max.x-h.bounds.min.x)/h.options.width,y:(h.bounds.max.y-h.bounds.min.y)/h.options.height}),s.setOffset(h.mouse,h.bounds.min))}else O=T,D=k,h.options.pixelRatio!==1&&h.context.setTransform(h.options.pixelRatio,0,0,h.options.pixelRatio,0,0);!I.wireframes||g.enableSleeping&&I.showSleeping?e.bodies(h,D,R):(I.showConvexHulls&&e.bodyConvexHulls(h,D,R),e.bodyWireframes(h,D,R)),I.showBounds&&e.bodyBounds(h,D,R),(I.showAxes||I.showAngleIndicator)&&e.bodyAxes(h,D,R),I.showPositions&&e.bodyPositions(h,D,R),I.showVelocity&&e.bodyVelocity(h,D,R),I.showIds&&e.bodyIds(h,D,R),I.showSeparations&&e.separations(h,g.pairs.list,R),I.showCollisions&&e.collisions(h,g.pairs.list,R),I.showVertexNumbers&&e.vertexNumbers(h,D,R),I.showMousePosition&&e.mousePosition(h,h.mouse,R),e.constraints(O,R),I.hasBounds&&e.endViewTransform(h),i.trigger(h,"afterRender",U),A.lastElapsed=o.now()-w},e.stats=function(h,x,w){for(var g=h.engine,E=g.world,C=n.allBodies(E),R=0,I=55,A=44,k=0,T=0,F=0;F<C.length;F+=1)R+=C[F].parts.length;var D={Part:R,Body:C.length,Cons:n.allConstraints(E).length,Comp:n.allComposites(E).length,Pair:g.pairs.list.length};x.fillStyle="#0e0f19",x.fillRect(k,T,I*5.5,A),x.font="12px Arial",x.textBaseline="top",x.textAlign="right";for(var O in D){var V=D[O];x.fillStyle="#aaa",x.fillText(O,k+I,T+8),x.fillStyle="#eee",x.fillText(V,k+I,T+26),k+=I}},e.performance=function(h,x){var w=h.engine,g=h.timing,E=g.deltaHistory,C=g.elapsedHistory,R=g.timestampElapsedHistory,I=g.engineDeltaHistory,A=g.engineUpdatesHistory,k=g.engineElapsedHistory,T=w.timing.lastUpdatesPerFrame,F=w.timing.lastDelta,D=c(E),O=c(C),V=c(I),U=c(A),N=c(k),W=c(R),H=W/D||0,X=Math.round(D/F),Y=1e3/D||0,$=4,Z=12,K=60,G=34,z=10,Q=69;x.fillStyle="#0e0f19",x.fillRect(0,50,Z*5+K*6+22,G),e.status(x,z,Q,K,$,E.length,Math.round(Y)+" fps",Y/e._goodFps,function(J){return E[J]/D-1}),e.status(x,z+Z+K,Q,K,$,I.length,F.toFixed(2)+" dt",e._goodDelta/F,function(J){return I[J]/V-1}),e.status(x,z+(Z+K)*2,Q,K,$,A.length,T+" upf",Math.pow(o.clamp(U/X||1,0,1),4),function(J){return A[J]/U-1}),e.status(x,z+(Z+K)*3,Q,K,$,k.length,N.toFixed(2)+" ut",1-T*N/e._goodFps,function(J){return k[J]/N-1}),e.status(x,z+(Z+K)*4,Q,K,$,C.length,O.toFixed(2)+" rt",1-O/e._goodFps,function(J){return C[J]/O-1}),e.status(x,z+(Z+K)*5,Q,K,$,R.length,H.toFixed(2)+" x",H*H*H,function(J){return(R[J]/E[J]/H||0)-1})},e.status=function(h,x,w,g,E,C,R,I,A){h.strokeStyle="#888",h.fillStyle="#444",h.lineWidth=1,h.fillRect(x,w+7,g,1),h.beginPath(),h.moveTo(x,w+7-E*o.clamp(.4*A(0),-2,2));for(var k=0;k<g;k+=1)h.lineTo(x+k,w+7-(k<C?E*o.clamp(.4*A(k),-2,2):0));h.stroke(),h.fillStyle="hsl("+o.clamp(25+95*I,0,120)+",100%,60%)",h.fillRect(x,w-7,4,4),h.font="12px Arial",h.textBaseline="middle",h.textAlign="right",h.fillStyle="#eee",h.fillText(R,x+g,w-5)},e.constraints=function(h,x){for(var w=x,g=0;g<h.length;g++){var E=h[g];if(!(!E.render.visible||!E.pointA||!E.pointB)){var C=E.bodyA,R=E.bodyB,I,A;if(C?I=d.add(C.position,E.pointA):I=E.pointA,E.render.type==="pin")w.beginPath(),w.arc(I.x,I.y,3,0,2*Math.PI),w.closePath();else{if(R?A=d.add(R.position,E.pointB):A=E.pointB,w.beginPath(),w.moveTo(I.x,I.y),E.render.type==="spring")for(var k=d.sub(A,I),T=d.perp(d.normalise(k)),F=Math.ceil(o.clamp(E.length/5,12,20)),D,O=1;O<F;O+=1)D=O%2===0?1:-1,w.lineTo(I.x+k.x*(O/F)+T.x*D*4,I.y+k.y*(O/F)+T.y*D*4);w.lineTo(A.x,A.y)}E.render.lineWidth&&(w.lineWidth=E.render.lineWidth,w.strokeStyle=E.render.strokeStyle,w.stroke()),E.render.anchors&&(w.fillStyle=E.render.strokeStyle,w.beginPath(),w.arc(I.x,I.y,3,0,2*Math.PI),w.arc(A.x,A.y,3,0,2*Math.PI),w.closePath(),w.fill())}}},e.bodies=function(h,x,w){var g=w;h.engine;var E=h.options,C=E.showInternalEdges||!E.wireframes,R,I,A,k;for(A=0;A<x.length;A++)if(R=x[A],!!R.render.visible){for(k=R.parts.length>1?1:0;k<R.parts.length;k++)if(I=R.parts[k],!!I.render.visible){if(E.showSleeping&&R.isSleeping?g.globalAlpha=.5*I.render.opacity:I.render.opacity!==1&&(g.globalAlpha=I.render.opacity),I.render.sprite&&I.render.sprite.texture&&!E.wireframes){var T=I.render.sprite,F=P(h,T.texture);g.translate(I.position.x,I.position.y),g.rotate(I.angle),g.drawImage(F,F.width*-T.xOffset*T.xScale,F.height*-T.yOffset*T.yScale,F.width*T.xScale,F.height*T.yScale),g.rotate(-I.angle),g.translate(-I.position.x,-I.position.y)}else{if(I.circleRadius)g.beginPath(),g.arc(I.position.x,I.position.y,I.circleRadius,0,2*Math.PI);else{g.beginPath(),g.moveTo(I.vertices[0].x,I.vertices[0].y);for(var D=1;D<I.vertices.length;D++)!I.vertices[D-1].isInternal||C?g.lineTo(I.vertices[D].x,I.vertices[D].y):g.moveTo(I.vertices[D].x,I.vertices[D].y),I.vertices[D].isInternal&&!C&&g.moveTo(I.vertices[(D+1)%I.vertices.length].x,I.vertices[(D+1)%I.vertices.length].y);g.lineTo(I.vertices[0].x,I.vertices[0].y),g.closePath()}E.wireframes?(g.lineWidth=1,g.strokeStyle=h.options.wireframeStrokeStyle,g.stroke()):(g.fillStyle=I.render.fillStyle,I.render.lineWidth&&(g.lineWidth=I.render.lineWidth,g.strokeStyle=I.render.strokeStyle,g.stroke()),g.fill())}g.globalAlpha=1}}},e.bodyWireframes=function(h,x,w){var g=w,E=h.options.showInternalEdges,C,R,I,A,k;for(g.beginPath(),I=0;I<x.length;I++)if(C=x[I],!!C.render.visible)for(k=C.parts.length>1?1:0;k<C.parts.length;k++){for(R=C.parts[k],g.moveTo(R.vertices[0].x,R.vertices[0].y),A=1;A<R.vertices.length;A++)!R.vertices[A-1].isInternal||E?g.lineTo(R.vertices[A].x,R.vertices[A].y):g.moveTo(R.vertices[A].x,R.vertices[A].y),R.vertices[A].isInternal&&!E&&g.moveTo(R.vertices[(A+1)%R.vertices.length].x,R.vertices[(A+1)%R.vertices.length].y);g.lineTo(R.vertices[0].x,R.vertices[0].y)}g.lineWidth=1,g.strokeStyle=h.options.wireframeStrokeStyle,g.stroke()},e.bodyConvexHulls=function(h,x,w){var g=w,E,C,R;for(g.beginPath(),C=0;C<x.length;C++)if(E=x[C],!(!E.render.visible||E.parts.length===1)){for(g.moveTo(E.vertices[0].x,E.vertices[0].y),R=1;R<E.vertices.length;R++)g.lineTo(E.vertices[R].x,E.vertices[R].y);g.lineTo(E.vertices[0].x,E.vertices[0].y)}g.lineWidth=1,g.strokeStyle="rgba(255,255,255,0.2)",g.stroke()},e.vertexNumbers=function(h,x,w){var g=w,E,C,R;for(E=0;E<x.length;E++){var I=x[E].parts;for(R=I.length>1?1:0;R<I.length;R++){var A=I[R];for(C=0;C<A.vertices.length;C++)g.fillStyle="rgba(255,255,255,0.2)",g.fillText(E+"_"+C,A.position.x+(A.vertices[C].x-A.position.x)*.8,A.position.y+(A.vertices[C].y-A.position.y)*.8)}}},e.mousePosition=function(h,x,w){var g=w;g.fillStyle="rgba(255,255,255,0.8)",g.fillText(x.position.x+"  "+x.position.y,x.position.x+5,x.position.y-5)},e.bodyBounds=function(h,x,w){var g=w;h.engine;var E=h.options;g.beginPath();for(var C=0;C<x.length;C++){var R=x[C];if(R.render.visible)for(var I=x[C].parts,A=I.length>1?1:0;A<I.length;A++){var k=I[A];g.rect(k.bounds.min.x,k.bounds.min.y,k.bounds.max.x-k.bounds.min.x,k.bounds.max.y-k.bounds.min.y)}}E.wireframes?g.strokeStyle="rgba(255,255,255,0.08)":g.strokeStyle="rgba(0,0,0,0.1)",g.lineWidth=1,g.stroke()},e.bodyAxes=function(h,x,w){var g=w;h.engine;var E=h.options,C,R,I,A;for(g.beginPath(),R=0;R<x.length;R++){var k=x[R],T=k.parts;if(k.render.visible)if(E.showAxes)for(I=T.length>1?1:0;I<T.length;I++)for(C=T[I],A=0;A<C.axes.length;A++){var F=C.axes[A];g.moveTo(C.position.x,C.position.y),g.lineTo(C.position.x+F.x*20,C.position.y+F.y*20)}else for(I=T.length>1?1:0;I<T.length;I++)for(C=T[I],A=0;A<C.axes.length;A++)g.moveTo(C.position.x,C.position.y),g.lineTo((C.vertices[0].x+C.vertices[C.vertices.length-1].x)/2,(C.vertices[0].y+C.vertices[C.vertices.length-1].y)/2)}E.wireframes?(g.strokeStyle="indianred",g.lineWidth=1):(g.strokeStyle="rgba(255, 255, 255, 0.4)",g.globalCompositeOperation="overlay",g.lineWidth=2),g.stroke(),g.globalCompositeOperation="source-over"},e.bodyPositions=function(h,x,w){var g=w;h.engine;var E=h.options,C,R,I,A;for(g.beginPath(),I=0;I<x.length;I++)if(C=x[I],!!C.render.visible)for(A=0;A<C.parts.length;A++)R=C.parts[A],g.arc(R.position.x,R.position.y,3,0,2*Math.PI,!1),g.closePath();for(E.wireframes?g.fillStyle="indianred":g.fillStyle="rgba(0,0,0,0.5)",g.fill(),g.beginPath(),I=0;I<x.length;I++)C=x[I],C.render.visible&&(g.arc(C.positionPrev.x,C.positionPrev.y,2,0,2*Math.PI,!1),g.closePath());g.fillStyle="rgba(255,165,0,0.8)",g.fill()},e.bodyVelocity=function(h,x,w){var g=w;g.beginPath();for(var E=0;E<x.length;E++){var C=x[E];if(C.render.visible){var R=l.getVelocity(C);g.moveTo(C.position.x,C.position.y),g.lineTo(C.position.x+R.x,C.position.y+R.y)}}g.lineWidth=3,g.strokeStyle="cornflowerblue",g.stroke()},e.bodyIds=function(h,x,w){var g=w,E,C;for(E=0;E<x.length;E++)if(x[E].render.visible){var R=x[E].parts;for(C=R.length>1?1:0;C<R.length;C++){var I=R[C];g.font="12px Arial",g.fillStyle="rgba(255,255,255,0.5)",g.fillText(I.id,I.position.x+10,I.position.y-10)}}},e.collisions=function(h,x,w){var g=w,E=h.options,C,R,I,A;for(g.beginPath(),I=0;I<x.length;I++)if(C=x[I],!!C.isActive)for(R=C.collision,A=0;A<C.contactCount;A++){var k=C.contacts[A],T=k.vertex;g.rect(T.x-1.5,T.y-1.5,3.5,3.5)}for(E.wireframes?g.fillStyle="rgba(255,255,255,0.7)":g.fillStyle="orange",g.fill(),g.beginPath(),I=0;I<x.length;I++)if(C=x[I],!!C.isActive&&(R=C.collision,C.contactCount>0)){var F=C.contacts[0].vertex.x,D=C.contacts[0].vertex.y;C.contactCount===2&&(F=(C.contacts[0].vertex.x+C.contacts[1].vertex.x)/2,D=(C.contacts[0].vertex.y+C.contacts[1].vertex.y)/2),R.bodyB===R.supports[0].body||R.bodyA.isStatic===!0?g.moveTo(F-R.normal.x*8,D-R.normal.y*8):g.moveTo(F+R.normal.x*8,D+R.normal.y*8),g.lineTo(F,D)}E.wireframes?g.strokeStyle="rgba(255,165,0,0.7)":g.strokeStyle="orange",g.lineWidth=1,g.stroke()},e.separations=function(h,x,w){var g=w,E=h.options,C,R,I,A,k;for(g.beginPath(),k=0;k<x.length;k++)if(C=x[k],!!C.isActive){R=C.collision,I=R.bodyA,A=R.bodyB;var T=1;!A.isStatic&&!I.isStatic&&(T=.5),A.isStatic&&(T=0),g.moveTo(A.position.x,A.position.y),g.lineTo(A.position.x-R.penetration.x*T,A.position.y-R.penetration.y*T),T=1,!A.isStatic&&!I.isStatic&&(T=.5),I.isStatic&&(T=0),g.moveTo(I.position.x,I.position.y),g.lineTo(I.position.x+R.penetration.x*T,I.position.y+R.penetration.y*T)}E.wireframes?g.strokeStyle="rgba(255,165,0,0.5)":g.strokeStyle="orange",g.stroke()},e.inspector=function(h,x){h.engine;var w=h.selected,g=h.render,E=g.options,C;if(E.hasBounds){var R=g.bounds.max.x-g.bounds.min.x,I=g.bounds.max.y-g.bounds.min.y,A=R/g.options.width,k=I/g.options.height;x.scale(1/A,1/k),x.translate(-g.bounds.min.x,-g.bounds.min.y)}for(var T=0;T<w.length;T++){var F=w[T].data;switch(x.translate(.5,.5),x.lineWidth=1,x.strokeStyle="rgba(255,165,0,0.9)",x.setLineDash([1,2]),F.type){case"body":C=F.bounds,x.beginPath(),x.rect(Math.floor(C.min.x-3),Math.floor(C.min.y-3),Math.floor(C.max.x-C.min.x+6),Math.floor(C.max.y-C.min.y+6)),x.closePath(),x.stroke();break;case"constraint":var D=F.pointA;F.bodyA&&(D=F.pointB),x.beginPath(),x.arc(D.x,D.y,10,0,2*Math.PI),x.closePath(),x.stroke();break}x.setLineDash([]),x.translate(-.5,-.5)}h.selectStart!==null&&(x.translate(.5,.5),x.lineWidth=1,x.strokeStyle="rgba(255,165,0,0.6)",x.fillStyle="rgba(255,165,0,0.1)",C=h.selectBounds,x.beginPath(),x.rect(Math.floor(C.min.x),Math.floor(C.min.y),Math.floor(C.max.x-C.min.x),Math.floor(C.max.y-C.min.y)),x.closePath(),x.stroke(),x.fill(),x.translate(-.5,-.5)),E.hasBounds&&x.setTransform(1,0,0,1,0,0)};var a=function(h,x){var w=h.engine,g=h.timing,E=g.historySize,C=w.timing.timestamp;g.delta=x-g.lastTime||e._goodDelta,g.lastTime=x,g.timestampElapsed=C-g.lastTimestamp||0,g.lastTimestamp=C,g.deltaHistory.unshift(g.delta),g.deltaHistory.length=Math.min(g.deltaHistory.length,E),g.engineDeltaHistory.unshift(w.timing.lastDelta),g.engineDeltaHistory.length=Math.min(g.engineDeltaHistory.length,E),g.timestampElapsedHistory.unshift(g.timestampElapsed),g.timestampElapsedHistory.length=Math.min(g.timestampElapsedHistory.length,E),g.engineUpdatesHistory.unshift(w.timing.lastUpdatesPerFrame),g.engineUpdatesHistory.length=Math.min(g.engineUpdatesHistory.length,E),g.engineElapsedHistory.unshift(w.timing.lastElapsed),g.engineElapsedHistory.length=Math.min(g.engineElapsedHistory.length,E),g.elapsedHistory.unshift(g.lastElapsed),g.elapsedHistory.length=Math.min(g.elapsedHistory.length,E)},c=function(h){for(var x=0,w=0;w<h.length;w+=1)x+=h[w];return x/h.length||0},m=function(h,x){var w=document.createElement("canvas");return w.width=h,w.height=x,w.oncontextmenu=function(){return!1},w.onselectstart=function(){return!1},w},y=function(h){var x=h.getContext("2d"),w=window.devicePixelRatio||1,g=x.webkitBackingStorePixelRatio||x.mozBackingStorePixelRatio||x.msBackingStorePixelRatio||x.oBackingStorePixelRatio||x.backingStorePixelRatio||1;return w/g},P=function(h,x){var w=h.textures[x];return w||(w=h.textures[x]=new Image,w.src=x,w)},L=function(h,x){var w=x;/(jpg|gif|png)$/.test(x)&&(w="url("+x+")"),h.canvas.style.background=w,h.canvas.style.backgroundSize="contain",h.currentBackground=x}})()},function(v,M,u){var e={};v.exports=e;var l=u(5),o=u(17),n=u(0);(function(){e._maxFrameDelta=1e3/15,e._frameDeltaFallback=1e3/60,e._timeBufferMargin=1.5,e._elapsedNextEstimate=1,e._smoothingLowerBound=.1,e._smoothingUpperBound=.9,e.create=function(i){var d={delta:16.666666666666668,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:33.333333333333336,lastUpdatesDeferred:0,enabled:!0},s=n.extend(d,i);return s.fps=0,s},e.run=function(i,d){return i.timeBuffer=e._frameDeltaFallback,function s(t){i.frameRequestId=e._onNextFrame(i,s),t&&i.enabled&&e.tick(i,d,t)}(),i},e.tick=function(i,d,s){var t=n.now(),r=i.delta,a=0,c=s-i.timeLastTick;if((!c||!i.timeLastTick||c>Math.max(e._maxFrameDelta,i.maxFrameTime))&&(c=i.frameDelta||e._frameDeltaFallback),i.frameDeltaSmoothing){i.frameDeltaHistory.push(c),i.frameDeltaHistory=i.frameDeltaHistory.slice(-i.frameDeltaHistorySize);var m=i.frameDeltaHistory.slice(0).sort(),y=i.frameDeltaHistory.slice(m.length*e._smoothingLowerBound,m.length*e._smoothingUpperBound),P=f(y);c=P||c}i.frameDeltaSnapping&&(c=1e3/Math.round(1e3/c)),i.frameDelta=c,i.timeLastTick=s,i.timeBuffer+=i.frameDelta,i.timeBuffer=n.clamp(i.timeBuffer,0,i.frameDelta+r*e._timeBufferMargin),i.lastUpdatesDeferred=0;var L=i.maxUpdates||Math.ceil(i.maxFrameTime/r),h={timestamp:d.timing.timestamp};l.trigger(i,"beforeTick",h),l.trigger(i,"tick",h);for(var x=n.now();r>0&&i.timeBuffer>=r*e._timeBufferMargin;){l.trigger(i,"beforeUpdate",h),o.update(d,r),l.trigger(i,"afterUpdate",h),i.timeBuffer-=r,a+=1;var w=n.now()-t,g=n.now()-x,E=w+e._elapsedNextEstimate*g/a;if(a>=L||E>i.maxFrameTime){i.lastUpdatesDeferred=Math.round(Math.max(0,i.timeBuffer/r-e._timeBufferMargin));break}}d.timing.lastUpdatesPerFrame=a,l.trigger(i,"afterTick",h),i.frameDeltaHistory.length>=100&&(i.lastUpdatesDeferred&&Math.round(i.frameDelta/r)>L?n.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):i.lastUpdatesDeferred&&n.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),typeof i.isFixed<"u"&&n.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(i.deltaMin||i.deltaMax)&&n.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),i.fps!==0&&n.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},e.stop=function(i){e._cancelNextFrame(i)},e._onNextFrame=function(i,d){if(typeof window<"u"&&window.requestAnimationFrame)i.frameRequestId=window.requestAnimationFrame(d);else throw new Error("Matter.Runner: missing required global window.requestAnimationFrame.");return i.frameRequestId},e._cancelNextFrame=function(i){if(typeof window<"u"&&window.cancelAnimationFrame)window.cancelAnimationFrame(i.frameRequestId);else throw new Error("Matter.Runner: missing required global window.cancelAnimationFrame.")};var f=function(i){for(var d=0,s=i.length,t=0;t<s;t+=1)d+=i[t];return d/s||0}})()},function(v,M,u){var e={};v.exports=e;var l=u(8),o=u(0),n=o.deprecated;(function(){e.collides=function(f,i){return l.collides(f,i)},n(e,"collides","SAT.collides ➤ replaced by Collision.collides")})()},function(v,M,u){var e={};v.exports=e,u(1);var l=u(0);(function(){e.pathToVertices=function(o,n){typeof window<"u"&&!("SVGPathSeg"in window)&&l.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var f,i,d,s,t,r,a,c,m,y,P=[],L,h,x=0,w=0,g=0;n=n||15;var E=function(R,I,A){var k=A%2===1&&A>1;if(!m||R!=m.x||I!=m.y){m&&k?(L=m.x,h=m.y):(L=0,h=0);var T={x:L+R,y:h+I};(k||!m)&&(m=T),P.push(T),w=L+R,g=h+I}},C=function(R){var I=R.pathSegTypeAsLetter.toUpperCase();if(I!=="Z"){switch(I){case"M":case"L":case"T":case"C":case"S":case"Q":w=R.x,g=R.y;break;case"H":w=R.x;break;case"V":g=R.y;break}E(w,g,R.pathSegType)}};for(e._svgPathToAbsolute(o),d=o.getTotalLength(),r=[],f=0;f<o.pathSegList.numberOfItems;f+=1)r.push(o.pathSegList.getItem(f));for(a=r.concat();x<d;){if(y=o.getPathSegAtLength(x),t=r[y],t!=c){for(;a.length&&a[0]!=t;)C(a.shift());c=t}switch(t.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":s=o.getPointAtLength(x),E(s.x,s.y,0);break}x+=n}for(f=0,i=a.length;f<i;++f)C(a[f]);return P},e._svgPathToAbsolute=function(o){for(var n,f,i,d,s,t,r=o.pathSegList,a=0,c=0,m=r.numberOfItems,y=0;y<m;++y){var P=r.getItem(y),L=P.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(L))"x"in P&&(a=P.x),"y"in P&&(c=P.y);else switch("x1"in P&&(i=a+P.x1),"x2"in P&&(s=a+P.x2),"y1"in P&&(d=c+P.y1),"y2"in P&&(t=c+P.y2),"x"in P&&(a+=P.x),"y"in P&&(c+=P.y),L){case"m":r.replaceItem(o.createSVGPathSegMovetoAbs(a,c),y);break;case"l":r.replaceItem(o.createSVGPathSegLinetoAbs(a,c),y);break;case"h":r.replaceItem(o.createSVGPathSegLinetoHorizontalAbs(a),y);break;case"v":r.replaceItem(o.createSVGPathSegLinetoVerticalAbs(c),y);break;case"c":r.replaceItem(o.createSVGPathSegCurvetoCubicAbs(a,c,i,d,s,t),y);break;case"s":r.replaceItem(o.createSVGPathSegCurvetoCubicSmoothAbs(a,c,s,t),y);break;case"q":r.replaceItem(o.createSVGPathSegCurvetoQuadraticAbs(a,c,i,d),y);break;case"t":r.replaceItem(o.createSVGPathSegCurvetoQuadraticSmoothAbs(a,c),y);break;case"a":r.replaceItem(o.createSVGPathSegArcAbs(a,c,P.r1,P.r2,P.angle,P.largeArcFlag,P.sweepFlag),y);break;case"z":case"Z":a=n,c=f;break}(L=="M"||L=="m")&&(n=a,f=c)}}})()},function(v,M,u){var e={};v.exports=e;var l=u(6);u(0),function(){e.create=l.create,e.add=l.add,e.remove=l.remove,e.clear=l.clear,e.addComposite=l.addComposite,e.addBody=l.addBody,e.addConstraint=l.addConstraint}()}])})}(Ce)),Ce.exports}var ir=rr();const xe=Pt(ir),ar=({text:p="",highlightWords:S=[],highlightClass:v="highlighted",trigger:M="auto",backgroundColor:u="transparent",wireframes:e=!1,gravity:l=1,mouseConstraintStiffness:o=.2,fontSize:n="1rem"})=>{const f=B.useRef(null),i=B.useRef(null),d=B.useRef(null),[s,t]=B.useState(!1);B.useEffect(()=>{if(!i.current)return;const c=p.split(" ").map(m=>`<span class="word ${S.some(P=>m.startsWith(P))?v:""}">${m}</span>`).join(" ");i.current.innerHTML=c},[p,S,v]),B.useEffect(()=>{if(M==="auto"){t(!0);return}if(M==="scroll"&&f.current){const a=new IntersectionObserver(([c])=>{c.isIntersecting&&(t(!0),a.disconnect())},{threshold:.1});return a.observe(f.current),()=>a.disconnect()}},[M]),B.useEffect(()=>{if(!s)return;const{Engine:a,Render:c,World:m,Bodies:y,Runner:P,Mouse:L,MouseConstraint:h}=xe;if(!f.current||!d.current||!i.current)return;const x=f.current.getBoundingClientRect(),w=x.width,g=x.height;if(w<=0||g<=0)return;const E=a.create();E.world.gravity.y=l;const C=c.create({element:d.current,engine:E,options:{width:w,height:g,background:u,wireframes:e}}),R={isStatic:!0,render:{fillStyle:"transparent"}},I=y.rectangle(w/2,g+25,w,50,R),A=y.rectangle(-25,g/2,50,g,R),k=y.rectangle(w+25,g/2,50,g,R),T=y.rectangle(w/2,-25,w,50,R),F=i.current.querySelectorAll(".word"),D=Array.from(F).map(W=>{const H=W.getBoundingClientRect(),X=H.left-x.left+H.width/2,Y=H.top-x.top+H.height/2,$=y.rectangle(X,Y,H.width,H.height,{render:{fillStyle:"transparent"},restitution:.8,frictionAir:.01,friction:.2});return xe.Body.setVelocity($,{x:(Math.random()-.5)*5,y:0}),xe.Body.setAngularVelocity($,(Math.random()-.5)*.05),{elem:W,body:$}});D.forEach(({elem:W,body:H})=>{W.style.position="absolute",W.style.left=`${H.position.x-H.bounds.max.x+H.bounds.min.x/2}px`,W.style.top=`${H.position.y-H.bounds.max.y+H.bounds.min.y/2}px`,W.style.transform="none"});const O=L.create(f.current),V=h.create(E,{mouse:O,constraint:{stiffness:o,render:{visible:!1}}});C.mouse=O,m.add(E.world,[I,A,k,T,V,...D.map(W=>W.body)]);const U=P.create();P.run(U,E),c.run(C);const N=()=>{D.forEach(({body:W,elem:H})=>{const{x:X,y:Y}=W.position;H.style.left=`${X}px`,H.style.top=`${Y}px`,H.style.transform=`translate(-50%, -50%) rotate(${W.angle}rad)`}),xe.Engine.update(E),requestAnimationFrame(N)};return N(),()=>{c.stop(C),P.stop(U),C.canvas&&d.current&&d.current.removeChild(C.canvas),m.clear(E.world,!1),a.clear(E)}},[s,l,e,u,o]);const r=()=>{!s&&(M==="click"||M==="hover")&&t(!0)};return b.jsxs("div",{ref:f,className:"falling-text-container",onClick:M==="click"?r:void 0,onMouseEnter:M==="hover"?r:void 0,style:{position:"relative",overflow:"hidden"},children:[b.jsx("div",{ref:i,className:"falling-text-target",style:{fontSize:n,lineHeight:1.4,marginTop:"50vh",marginLeft:"20vw",marginRight:"20vw"}}),b.jsx("div",{ref:d,className:"falling-text-canvas"})]})};function or(p=!0){B.useLayoutEffect(()=>{if(!p)return;const S=document.documentElement,v=document.body,M=S.style.overflow,u=v.style.overflow,e=v.style.margin;return S.style.overflow="hidden",v.style.overflow="hidden",v.style.margin="0",()=>{S.style.overflow=M,v.style.overflow=u,v.style.margin=e}},[p])}const fe={bg:"#0d0d0d",text:"#ffffff",textDim:"#bbbbbb"},sr={position:"fixed",inset:0,width:"100%",height:"100%",overflow:"hidden",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",padding:"4rem 1rem 6rem",backgroundColor:fe.bg,color:fe.text,fontFamily:"Inter, system-ui, sans-serif",lineHeight:1.4,boxSizing:"border-box"},lr={textAlign:"center",marginBottom:"3rem",marginTop:"10vh",width:"100%",zIndex:999,pointerEvents:"none"},ur={marginTop:"0.5rem",fontSize:"1.25rem",fontWeight:500,color:fe.textDim},fr={width:"100vw",height:"95vh",marginInline:"auto",marginBottom:"4rem",textAlign:"center",flex:"0 0 auto",alignContent:"center",justifyContent:"center",alignItems:"center",position:"fixed",top:0},cr={marginTop:"auto",paddingTop:"2rem",fontSize:"0.9rem",color:fe.textDim},dr={position:"absolute",top:"2rem",left:"2rem",width:"50px",height:"50px",display:"inline-flex",alignItems:"center",justifyContent:"center",background:"transparent",border:"none",padding:0,margin:0,cursor:"pointer",color:fe.text,opacity:.8,transition:"opacity 0.15s ease, transform 0.15s ease",zIndex:9999},hr=({onClick:p})=>{const[S,v]=B.useState(!1);return b.jsx("button",{type:"button","aria-label":"Retour à l'accueil",onClick:p,onMouseEnter:()=>v(!0),onMouseLeave:()=>v(!1),style:{...dr,opacity:S?1:.8,transform:S?"scale(1.05)":"scale(1)"},children:b.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[b.jsx("path",{d:"M3 9.5L12 3l9 6.5"}),b.jsx("path",{d:"M5 10v10h5v-6h4v6h5V10"})]})})},pr=()=>{const[p,S]=B.useState(.8),[v,M]=B.useState(!0);return or(!0),b.jsxs("div",{style:sr,children:[b.jsx(hr,{onClick:()=>window.location.href="/multi-sites/"}),b.jsxs("header",{style:lr,children:[b.jsx(tr,{baseIntensity:.2,hoverIntensity:p,enableHover:v,children:"404"}),b.jsx("h2",{style:ur,children:"Page non trouvée"})]}),b.jsx("section",{style:fr,children:b.jsx(ar,{text:"Oups! 🧭 Cette page n'existe pas ou a été déplacée. Cliquer sur la maison pour retourner à l'accueil.",highlightWords:["page","l'accueil","Oups","maison","Cliquer"],highlightClass:"highlighted",trigger:"hover",backgroundColor:"transparent",wireframes:!1,gravity:.56,fontSize:"clamp(1.2rem, 5vw ,2rem)",mouseConstraintStiffness:.9})}),b.jsx("footer",{style:cr})]})};Et.createRoot(document.getElementById("root")).render(b.jsx(tt.StrictMode,{children:b.jsx(Nn,{basename:"/multi-sites",children:b.jsxs(xn,{children:[b.jsx(ye,{path:"/",element:b.jsx(er,{})}),b.jsx(ye,{path:"/louis",element:b.jsx(Mt,{})}),b.jsx(ye,{path:"*",element:b.jsx(pr,{})})]})})}));
